import{_ as e,P as t,T as n,g as l,D as a,C as s,a as o}from"./DemoDisplay-2d0cc11b.js";import"./Upload.vue_vue_type_style_index_0_lang-466d0855.js";import"./SubMenu.vue_vue_type_style_index_0_lang-63ec0c5c.js";import{d as i,k as u,r,L as c,o as p,c as v,b as m,l as d,e as _,w as f,A as g,F as b,f as x,t as y,B as M,T as w,y as h,g as S,h as T,z as k}from"./index-64f31046.js";import{_ as I}from"./ApiIntro-ec0be594.js";const C={class:"ui-mentions-wrap"},O=["value"],j={class:"ui-mentions-pop"},z=["title"],D=i({__name:"Mentions",props:{value:{default:""},options:{default:()=>[]}},emits:["select","update:value"],setup(e,{emit:t}){const n=e,{value:l,options:a}=u(n),s=r(null),o=r(null),i=r(0),S=r(!1),T=document.createElement("span");T.classList.add("mentions-pop-left");const k=e=>{const n=e.target;if(t("update:value",n.value),n&&"@"===n.value.substring(n.selectionStart-1,n.selectionStart)){T.innerText=n.value.substring(0,n.selectionStart);let e=T.getBoundingClientRect().width;for(;e+7.1>n.clientWidth-19;)e=e-n.clientWidth+28;i.value=e+11,S.value=!0}else S.value=!1};c((()=>{var e;null==(e=o.value)||e.appendChild(T)}));const I=e=>{const n=e.target,a=n.getAttribute("data-value");if("p"===n.tagName.toLowerCase()&&"list"===a){const e=s.value;let a=0;e&&(a=e.selectionStart);const o=l.value.substring(0,a)+n.innerText+l.value.substring(a);t("update:value",o),t("select",n.innerText),S.value=!1,setTimeout((()=>{e.focus(),e.setSelectionRange(a+n.innerText.length,a+n.innerText.length)}))}},D=()=>{S.value=!1};return(e,t)=>(p(),v("div",C,[m("textarea",{ref_key:"inputRef",ref:s,class:"ui-mentions-input ui-scroll-container",value:d(l),onInput:k,onBlur:D},null,40,O),m("div",{class:"ui-mentions-getWidth",ref_key:"getWidthRef",ref:o},null,512),m("div",{class:"ui-mentions-pop-wrap",onMousedown:I,style:h({left:`${i.value}px`})},[_(w,{name:"mentions"},{default:f((()=>[g(m("div",j,[(p(!0),v(b,null,x(d(a),(e=>(p(),v("p",{key:e,class:"mentions-list-item","data-value":"list",title:e.value},y(e.label),9,z)))),128))],512),[[M,S.value]])])),_:1})],36)]))}}),A=m("p",null,"提及组件。",-1),J=m("ul",null,[m("li",null,"Mentions")],-1),R=m("p",null,"用于在输入中提及某人或某事，常用于发布、聊天或评论功能。",-1),W=i({__name:"Intro",setup:l=>(l,a)=>(p(),S(d(n),null,{default:f((()=>[_(d(e),{level:4},{default:f((()=>[T("简介")])),_:1}),_(d(t),null,{default:f((()=>[A])),_:1}),_(d(e),{level:4},{default:f((()=>[T("组件概述")])),_:1}),_(d(t),null,{default:f((()=>[J])),_:1}),_(d(e),{level:4},{default:f((()=>[T("使用场景")])),_:1}),_(d(t),null,{default:f((()=>[R])),_:1})])),_:1}))}),B=i({__name:"Api",setup(e){const t=[{rowIndex:1,"事件名称":"select","说明":"选择选项时触发","回调参数":"(selectOption:string) => void"}],n=[{componentName:"Mentions",attrContent:[{rowIndex:1,"属性":"value","说明":"value(v-model)","类型":"string","默认值":""},{rowIndex:2,"属性":"options","说明":"提示信息","类型":" MentionsOptions[]","默认值":"[]"}]}];return(e,l)=>(p(),S(I,{"attr-content-arr":n,"event-content":t}))}});var L=e=>{e.__sourceCode="<template>\n  <div class=\"ui-template-wrap\">\n    <Mentions v-model:value=\"value\" :options=\"options\" autofocus @select=\"onSelect\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { Mentions, MentionsOptions } from '@/lib'\n\nconst value = ref<string>('')\nconst options: MentionsOptions[] = [\n  {\n    label: 'afc163',\n    value: 'afc163'\n  },\n  {\n    label: 'zombieJ',\n    value: 'zombieJ'\n  },\n  {\n    label: 'yesmeck',\n    value: 'yesmeck'\n  }\n]\n\nconst onSelect = (option: MentionsOptions) => {\n  console.log('select', option)\n}\n<\/script>",e.__sourceTitle="基本用法"};const N={class:"ui-template-wrap"},U=i({__name:"DemoOne",setup(e){const t=r(""),n=[{label:"afc163",value:"afc163"},{label:"zombieJ",value:"zombieJ"},{label:"yesmeck",value:"yesmeck"}],l=e=>{console.log("select",e)};return(e,a)=>(p(),v("div",N,[_(d(D),{value:t.value,"onUpdate:value":a[0]||(a[0]=e=>t.value=e),options:n,autofocus:"",onSelect:l},null,8,["value"])]))}});L(U);const E=i({__name:"Demo",setup(e){const t=k((()=>[U].map(((e,t)=>l(e,"mentions",t)))));return(e,n)=>(p(),S(a,{"demo-arr":d(t)},null,8,["demo-arr"]))}}),F=i({__name:"Index",setup(e){r(null);const t=["基本用法"],n=k((()=>o("mentions",t)));return(e,t)=>(p(),S(s,{"nav-arr":d(n),title:"Mentions 提及","component-name":"mentions"},{intro:f((()=>[_(W)])),demo:f((()=>[_(E)])),api:f((()=>[_(B)])),_:1},8,["nav-arr"]))}});export{F as default};
