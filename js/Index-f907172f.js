import{D as e,C as a}from"./DemoDisplay-d9d5cf75.js";import{d as n,M as t,v as l,r as o,c as r,e as s,F as u,h as m,i as p,q as i,L as d,X as f,E as c,f as v,g as F,z as _,m as w,B as I,T as y,x as b,t as C,y as g,C as S,j as h,a as x,$ as A,I as D,J as U}from"./index-be6a3e2f.js";import{_ as j,P as E,T as $}from"./Paragraph-710a31b9.js";import{_ as B}from"./ApiIntro.vue_vue_type_style_index_0_lang-25ff9f5b.js";import{g as R,a as P}from"./helper-84db427e.js";import{_ as N,a as T}from"./Row.vue_vue_type_script_setup_true_lang-711e519c.js";const O=["autocomplete"],M=n({__name:"Form",props:{data:null,layout:{default:"vertical"},labelCol:{default:()=>({span:10,offset:0})},wrapperCol:{default:()=>({span:100,offset:0})},autocomplete:{default:"off"}},emits:["finish","finishFailed"],setup(e,{emit:a}){const n=e,c=t().default(),{data:v}=l(n),F=o([]);f("ui_form_errorArr",F),f("ui_form_changeErrorArr",(e=>{F.value=e}));const _=e=>{e.stopPropagation(),e.preventDefault(),F.value[0]?a("finishFailed",{values:null==v?void 0:v.value,errorFields:F.value}):a("finish",null==v?void 0:v.value)};return(a,n)=>(r(),s("form",{class:"ui-form-wrap",autocomplete:e.autocomplete,onSubmit:_},[(r(!0),s(u,null,m(i(c),(a=>(r(),s("div",{class:"ui-from-item",key:a},[(r(),p(d(a),{layout:e.layout,labelCol:e.labelCol,wrapperCol:a.props.wrapperCol?a.props.wrapperCol:e.wrapperCol,data:i(v)},null,8,["layout","labelCol","wrapperCol","data"]))])))),128))],40,O))}}),k={class:"ui-formItem-wrap"},W={class:"ui-formItem-label"},z={class:"ui-formItem-content"},q={class:"ui-formItem-input"},J={class:"formItem-content-error-wrap"},L={class:"ui-formItem-content"},X={class:"ui-formItem-input"},G={key:0,class:"formItem-content-error-wrap"},H=n({__name:"FormItem",props:{label:{default:""},name:{default:""},rules:{default:()=>[]},layout:null,labelCol:null,wrapperCol:null,data:null},setup(e){const a=e,n=t().default(),{name:u,data:m,rules:f}=l(a),h=o(!1),x=o(""),A=c("ui_form_errorArr"),D=c("ui_form_changeErrorArr"),U=e=>{const a=f.value.map((a=>((e,a)=>new Promise(((n,t)=>{e.pattern.test(a)?n(!0):t(e.message)})))(a,e)));Promise.all(a).then((()=>{h.value=!1;const e=null==A?void 0:A.value.findIndex((e=>e.name===u.value));e>=0&&(null==A?void 0:A.value)&&D&&D([...A.value.slice(0,e),...A.value.slice(e+1)])})).catch((e=>{h.value=!0,x.value=e;(null==A?void 0:A.value.findIndex((e=>e.name===u.value)))<0&&(null==A?void 0:A.value)&&D&&D([...A.value,{name:u.value,reason:[e]}])}))};return(a,t)=>(r(),s("div",k,[v(T,{alignItems:"start",justify:"center",style:{margin:"0"}},{default:F((()=>[a.$slots.label?(r(),p(N,{key:0,span:e.wrapperCol.span,offset:e.wrapperCol.offset,class:_(["formItem-content-wrap",{"formItem-content-vertical-wrap":"vertical"===e.layout}])},{default:F((()=>[v(N,{span:e.labelCol.span,offset:e.labelCol.offset,class:_(["formItem-content-label-wrap",{"formItem-content-label-vertical-wrap":"vertical"===e.layout}])},{default:F((()=>[w("div",W,[I(a.$slots,"label")])])),_:3},8,["span","offset","class"]),w("div",z,[w("div",q,[(r(),p(d(i(n)[0]),{"onUpdate:value":U},null,32))]),w("div",J,[v(y,{name:"error-action"},{default:F((()=>[b(w("div",{class:"formItem-content-error"},C(x.value),513),[[g,h.value]])])),_:1})])])])),_:3},8,["span","offset","class"])):(r(),p(N,{key:1,span:e.wrapperCol.span,class:_(["formItem-content-wrap",{"formItem-content-vertical-wrap":"vertical"===e.layout}])},{default:F((()=>[v(N,{offset:e.wrapperCol.offset,span:100,class:_(["formItem-content-No-label-wrap",{"formItem-content-No-label-vertical-wrap":"vertical"===e.layout}])},{default:F((()=>[w("div",L,[w("div",X,[(r(),p(d(i(n)[0]),{"onUpdate:value":U},null,32))]),i(u)?(r(),s("div",G,[v(y,{name:"error-action"},{default:F((()=>[b(w("div",{class:"formItem-content-error"},C(x.value),513),[[g,h.value]])])),_:1})])):S("",!0)])])),_:1},8,["offset","class"])])),_:1},8,["span","class"]))])),_:3})]))}}),K=w("p",null,"高性能表单控件，自带数据域管理。包含数据录入、校验以及对应样式。",-1),Q=w("ul",null,[w("li",null,"Form: 主要组件"),w("li",null,"FormItem:子组件。"),w("li",null,"Input:子组件。"),w("li",null,"InputIcon:子组件。")],-1),V=w("ul",null,[w("li",null,"用于创建一个实体或收集信息。"),w("li",null,"需要对输入的数据类型进行校验时。")],-1),Y=n({__name:"Intro",setup:e=>(e,a)=>(r(),p(i($),null,{default:F((()=>[v(i(j),null,{default:F((()=>[h("简介")])),_:1}),v(i(E),null,{default:F((()=>[K])),_:1}),v(i(j),null,{default:F((()=>[h("组件概览")])),_:1}),v(i(E),null,{default:F((()=>[Q])),_:1}),v(i(j),null,{default:F((()=>[h("使用场景")])),_:1}),v(i(E),null,{default:F((()=>[V])),_:1})])),_:1}))}),Z=n({__name:"Api",setup(e){const a=[{rowIndex:1,"事件名称":"finish","说明":"提交表单且数据验证成功后回调事件","回调参数":"function(values)"},{rowIndex:1,"事件名称":"finishFailed","说明":"提交表单且数据验证失败后回调事件","回调参数":"function({ values, errorFields, outOfDate })"}],n=[{componentName:"Form",attrContent:[{rowIndex:1,"属性":"data","说明":"表单数据对象","类型":"object","默认值":""},{rowIndex:2,"属性":"layout","说明":"表单布局","类型":"'horizontal' | 'vertical'","默认值":"vertical"},{rowIndex:3,"属性":"labelCol","说明":"label 标签布局，同 <Col> 组件，设置","类型":"object","默认值":"{ span: 10, offset: 0 }"},{rowIndex:4,"属性":"wrapperCol","说明":"label 标签布局，同 <Col> 组件，设置","类型":"object","默认值":"{ span: 100, offset: 0 }"},{rowIndex:5,"属性":"autocomplete","说明":"自动完成","类型":"'off' | 'on'","默认值":"off"}]},{componentName:"FormItem",attrContent:[{rowIndex:1,"属性":"label","说明":"标签名","类型":"string","默认值":""},{rowIndex:2,"属性":"name","说明":"表单域 model 字段，在使用 validate、resetFields 方法的情况下，该属性是必填的","类型":"string","默认值":""},{rowIndex:3,"属性":"rules","说明":"表单验证规则","类型":" Rule[]","默认值":"[]"}]}];return(e,t)=>(r(),p(B,{"attr-content-arr":n,"event-content":a}))}}),ee=w("span",null,"USERNAME :",-1),ae=w("span",null,"PASSWORD :",-1),ne=n({__name:"DemoOne",setup(e){const a=x({username:"",password:""}),n=e=>{console.log("Success:",e)},t=e=>{console.log("Failed:",e)};return(e,l)=>(r(),p(i(M),{data:a,layout:"vertical",labelCol:{span:10},wrapperCol:{span:50},autocomplete:"off",onFinish:n,onFinishFailed:t},{default:F((()=>[v(i(H),{name:"username"},{label:F((()=>[ee])),default:F((()=>[v(i(A),{value:a.username,"onUpdate:value":l[0]||(l[0]=e=>a.username=e)},null,8,["value"])])),_:1}),v(i(H),{name:"password"},{label:F((()=>[ae])),default:F((()=>[v(i(A),{value:a.password,"onUpdate:value":l[1]||(l[1]=e=>a.password=e),type:"password"},null,8,["value"])])),_:1}),v(i(H),{wrapperCol:{span:50}},{default:F((()=>[v(i(D),{type:"primary"},{default:F((()=>[h("Submit")])),_:1})])),_:1})])),_:1},8,["data"]))}}),te=e=>{e.__sourceCode='<template>\n  <Form\n    :data="formState"\n    layout="vertical"\n    :labelCol="{ span: 10 }"\n    :wrapperCol="{ span: 50 }"\n    autocomplete="off"\n    @finish="onFinish"\n    @finishFailed="onFinishFailed"\n  >\n    <FormItem name="username">\n      <template #label><span>USERNAME :</span></template>\n      <Input v-model:value="formState.username" />\n    </FormItem>\n\n    <FormItem name="password">\n      <template #label><span>PASSWORD :</span></template>\n      <Input v-model:value="formState.password" type="password" />\n    </FormItem>\n    <FormItem :wrapperCol="{ span: 50 }">\n      <Button type="primary">Submit</Button>\n    </FormItem>\n  </Form>\n</template>\n\n<script setup lang="ts">\nimport { reactive } from \'vue\'\nimport { Form, FormItem, Button, Input } from \'@/lib\'\n\ninterface FormState {\n  username: string\n  password: string\n}\nconst formState = reactive<FormState>({\n  username: \'\',\n  password: \'\'\n})\n\nconst onFinish = (values: any) => {\n  console.log(\'Success:\', values)\n}\n\nconst onFinishFailed = (errorInfo: any) => {\n  console.log(\'Failed:\', errorInfo)\n}\n<\/script>',e.__sourceTitle="基本用法"};te(ne);const le=n({__name:"DemoTwo",setup(e){const a=x({username:"",password:""}),n=e=>{console.log("Success:",e)},t=e=>{console.log("Failed:",e)};return(e,l)=>(r(),p(i(M),{data:a,layout:"line",wrapperCol:{span:50},autocomplete:"off",onFinish:n,onFinishFailed:t},{default:F((()=>[v(i(H),{name:"username",rules:[{pattern:/^\d{0,5}\d$/,message:"请输入0-6位数字 !"}]},{default:F((()=>[v(i(A),{value:a.username,"onUpdate:value":l[0]||(l[0]=e=>a.username=e)},null,8,["value"])])),_:1}),v(i(H),{name:"password",rules:[{pattern:/^\d{0,5}\d$/,message:"请输入0-6位数字 !"}]},{default:F((()=>[v(i(A),{value:a.password,"onUpdate:value":l[1]||(l[1]=e=>a.password=e),type:"password"},null,8,["value"])])),_:1}),v(i(H),{wrapperCol:{span:50}},{default:F((()=>[v(i(D),{type:"primary"},{default:F((()=>[h("Submit")])),_:1})])),_:1})])),_:1},8,["data"]))}}),oe=e=>{e.__sourceCode='<template>\n  <Form\n    :data="formState"\n    layout="line"\n    :wrapperCol="{ span: 50 }"\n    autocomplete="off"\n    @finish="onFinish"\n    @finishFailed="onFinishFailed"\n  >\n    <FormItem\n      name="username"\n      :rules="[{ pattern: /^\\d{0,5}\\d$/, message: \'请输入0-6位数字 !\' }]"\n    >\n      <Input v-model:value="formState.username" />\n    </FormItem>\n\n    <FormItem\n      name="password"\n      :rules="[{ pattern: /^\\d{0,5}\\d$/, message: \'请输入0-6位数字 !\' }]"\n    >\n      <Input v-model:value="formState.password" type="password" />\n    </FormItem>\n    <FormItem :wrapperCol="{ span: 50 }">\n      <Button type="primary">Submit</Button>\n    </FormItem>\n  </Form>\n</template>\n\n<script setup lang="ts">\nimport { reactive } from \'vue\'\nimport { Form, FormItem, Button, Input } from \'@/lib\'\n\ninterface FormState {\n  username: string\n  password: string\n}\nconst formState = reactive<FormState>({\n  username: \'\',\n  password: \'\'\n})\n\nconst onFinish = (values: any) => {\n  console.log(\'Success:\', values)\n}\n\nconst onFinishFailed = (errorInfo: any) => {\n  console.log(\'Failed:\', errorInfo)\n}\n<\/script>',e.__sourceTitle="没有title"};oe(le);const re=w("span",null,"USERNAME :",-1),se=w("span",null,"PASSWORD :",-1),ue=n({__name:"DemoThree",setup(e){const a=x({username:"",password:""}),n=e=>{console.log("Success:",e)},t=e=>{console.log("Failed:",e)};return(e,l)=>(r(),p(i(M),{data:a,layout:"vertical",labelCol:{span:10},wrapperCol:{span:50},autocomplete:"off",onFinish:n,onFinishFailed:t},{default:F((()=>[v(i(H),{name:"username",rules:[{pattern:/^\d{0,5}\d$/,message:"请输入0-6位数字 !"}]},{label:F((()=>[re])),default:F((()=>[v(i(A),{value:a.username,"onUpdate:value":l[0]||(l[0]=e=>a.username=e)},null,8,["value"])])),_:1}),v(i(H),{name:"password",rules:[{pattern:/^\d{0,5}\d$/,message:"请输入0-6位数字 !"}]},{label:F((()=>[se])),default:F((()=>[v(i(A),{value:a.password,"onUpdate:value":l[1]||(l[1]=e=>a.password=e),type:"password"},null,8,["value"])])),_:1}),v(i(H),{wrapperCol:{span:50}},{default:F((()=>[v(i(D),{type:"primary"},{default:F((()=>[h("Submit")])),_:1})])),_:1})])),_:1},8,["data"]))}}),me=e=>{e.__sourceCode='<template>\n  <Form\n    :data="formState"\n    layout="vertical"\n    :labelCol="{ span: 10 }"\n    :wrapperCol="{ span: 50 }"\n    autocomplete="off"\n    @finish="onFinish"\n    @finishFailed="onFinishFailed"\n  >\n    <FormItem\n      name="username"\n      :rules="[{ pattern: /^\\d{0,5}\\d$/, message: \'请输入0-6位数字 !\' }]"\n    >\n      <template #label><span>USERNAME :</span></template>\n      <Input v-model:value="formState.username" />\n    </FormItem>\n\n    <FormItem\n      name="password"\n      :rules="[{ pattern: /^\\d{0,5}\\d$/, message: \'请输入0-6位数字 !\' }]"\n    >\n      <template #label><span>PASSWORD :</span></template>\n      <Input v-model:value="formState.password" type="password" />\n    </FormItem>\n    <FormItem :wrapperCol="{ span: 50 }">\n      <Button type="primary">Submit</Button>\n    </FormItem>\n  </Form>\n</template>\n\n<script setup lang="ts">\nimport { reactive } from \'vue\'\nimport { Form, FormItem, Button, Input } from \'@/lib\'\n\ninterface FormState {\n  username: string\n  password: string\n}\nconst formState = reactive<FormState>({\n  username: \'\',\n  password: \'\'\n})\n\nconst onFinish = (values: any) => {\n  console.log(\'Success:\', values)\n}\n\nconst onFinishFailed = (errorInfo: any) => {\n  console.log(\'Failed:\', errorInfo)\n}\n<\/script>',e.__sourceTitle="表单验证"};me(ue);const pe=n({__name:"Demo",setup(a){const n=U((()=>[ne,le,ue].map(((e,a)=>R(e,"form",a)))));return(a,t)=>(r(),p(e,{"demo-arr":i(n)},null,8,["demo-arr"]))}}),ie=n({__name:"Index",setup(e){o(null);const n=["基本用法","没有title","表单验证"],t=U((()=>P("form",n)));return(e,n)=>(r(),p(a,{"nav-arr":i(t),title:"Form 表单","component-name":"form"},{intro:F((()=>[v(Y)])),demo:F((()=>[v(pe)])),api:F((()=>[v(Z)])),_:1},8,["nav-arr"]))}});export{ie as default};
