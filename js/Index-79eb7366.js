import{D as e,C as n}from"./DemoDisplay-861b5945.js";import{d as t,s as o,r as s,a,o as l,w as i,I as c,c as m,i as u,v as d,x as r,m as p,f as v,g as f,T as g,E as y,q as k,z as h,e as _,A as b,B as w,C as x,ai as C,aj as T,K as B,t as I,G as M,j as $,ak as O,al as S,F as E,n as j,S as W}from"./index-fff176c6.js";import{_ as D,P as A,T as N}from"./Paragraph-72dbc1f2.js";import{_ as L}from"./ApiIntro.vue_vue_type_style_index_0_lang-399dc91d.js";import{g as X,a as Y}from"./helper-42c8e4e7.js";import{b as z}from"./bodyAddClass-9de403b9.js";const P={class:"ui-modal-wrap"},V={key:0,class:"ui-modal-title"},q={key:1,class:"ui-modal-content"},F={key:2,class:"ui-modal-footer"},G=t({inheritAttrs:!1,__name:"Modal",props:{visible:{type:Boolean,default:!1},classname:{default:"ui-custom"},maskClosable:{type:Boolean,default:!0},width:{default:300},top:{default:100}},emits:["update:visible","change"],setup(e,{emit:n}){const t=e,{visible:C,maskClosable:T,width:B,top:I}=o(t),M=()=>{T.value&&(n("update:visible",!1),n("change",!1))},$=s(!1),O=s(!1),S=s(0),E=a({x:0,y:0}),j=e=>{B.value+32>S.value?(E.x=e.clientX-document.body.clientWidth/2+(S.value-32)/2,E.y=e.clientY-I.value):(E.x=e.clientX-document.body.clientWidth/2+B.value/2,E.y=e.clientY-I.value),O.value=!0,document.body.removeEventListener("click",j)};l((()=>{i(C,(()=>{if(C.value)z(C.value),$.value=!0,S.value=document.body.clientWidth,document.body.addEventListener("click",j);else{const e=setTimeout((()=>{z(C.value),$.value=!1,window.clearTimeout(e)}),400);O.value=!1}}))}));const W=c((()=>B.value+32>S.value?S.value-32+"px":`${B.value}px`)),D=c((()=>`${E.x}px ${E.y}px`));return(n,t)=>(m(),u(x,{to:"body"},[d(p("div",P,[v(g,{name:"modal-mask"},{default:f((()=>[d(p("div",{class:"ui-modal-mask",onClick:M},null,512),[[r,O.value]])])),_:1}),p("div",{class:"ui-modal-body-wrap",style:y({top:`${k(I)}px`})},[v(g,{name:"modal"},{default:f((()=>[d(p("div",h({class:"ui-modal-body"},n.$attrs,{class:{[e.classname]:!0},style:{width:k(W),transformOrigin:k(D)}}),[n.$slots.title?(m(),_("div",V,[b(n.$slots,"title")])):w("",!0),n.$slots.content?(m(),_("div",q,[b(n.$slots,"content")])):w("",!0),n.$slots.footer?(m(),_("div",F,[b(n.$slots,"footer")])):w("",!0)],16),[[r,O.value]])])),_:3})],4)],512),[[r,$.value]])]))}}),K={class:"ui-modal-pop-wrap ui-modal-wrap"},U={class:"ui-modal-content",style:{"margin-top":"10px",padding:"0"}},H={key:1},J={class:"ui-modal-footer",style:{padding:"10px 16px","border-top":"none","margin-bottom":"4px"}},Q=t({__name:"Pop",props:{title:null,content:null,icon:null,cancelText:null,okText:null,type:null,unMount:null,ok:{type:Boolean},cancel:{type:Boolean},width:{default:300},top:{default:100},maskClosable:{type:Boolean,default:!1}},emits:["ok","cancel"],setup(e,{emit:n}){const t=e,{unMount:h,width:b,top:x,maskClosable:O,ok:S,cancel:E}=o(t),j=s(!1),W=()=>{S.value&&n("ok"),j.value=!1;const e=setTimeout((()=>{h.value(),window.clearTimeout(e)}),400)},D=()=>{E.value&&n("cancel"),j.value=!1;const e=setTimeout((()=>{h.value(),window.clearTimeout(e)}),400)},A=()=>{if(O.value){j.value=!1;const e=setTimeout((()=>{h.value(),window.clearTimeout(e)}),400)}},N=s(!1),L=s(!1),X=s(0),Y=a({x:0,y:0}),P=e=>{b.value+32>X.value?(Y.x=e.clientX-document.body.clientWidth/2+(X.value-32)/2,Y.y=e.clientY-x.value):(Y.x=e.clientX-document.body.clientWidth/2+b.value/2,Y.y=e.clientY-x.value),L.value=!0,document.body.removeEventListener("click",P)};l((()=>{i(j,(()=>{if(j.value)z(j.value),N.value=!0,X.value=document.body.clientWidth,document.body.addEventListener("click",P);else{const e=setTimeout((()=>{z(j.value),N.value=!1,window.clearTimeout(e)}),300);L.value=!1}})),j.value=!0}));const V=c((()=>b.value+32>X.value?X.value-32+"px":`${b.value}px`)),q=c((()=>`${Y.x}px ${Y.y}px`));return(n,t)=>(m(),_("div",K,[v(g,{name:"modal-mask"},{default:f((()=>[d(p("div",{class:"ui-modal-mask",onClick:A},null,512),[[r,L.value]])])),_:1}),p("div",{class:"ui-modal-body-wrap",style:y({top:`${k(x)}px`})},[v(g,{name:"modal"},{default:f((()=>[d(p("div",{class:"ui-modal-body",style:y({width:k(V),transformOrigin:k(q),gap:0})},[p("div",U,[v(C,{message:"string"==typeof e.title?e.title:"",type:e.type,showIcon:"",banner:"",style:{backgroundColor:"#fff",marginBottom:0}},T({description:f((()=>["string"!=typeof e.content?(m(),u(B(e.content),{key:0})):(m(),_("div",H,I(e.content),1))])),_:2},["string"!=typeof e.title?{name:"title",fn:f((()=>[(m(),u(B(e.title)))])),key:"0"}:void 0,e.icon?{name:"icon",fn:f((()=>[(m(),u(B(e.icon)))])),key:"1"}:void 0]),1032,["message","type"])]),p("div",J,[v(M,{type:"default",onClick:D},{default:f((()=>[$(I(e.cancelText?e.cancelText:"取消"),1)])),_:1}),k(S)?(m(),u(M,{key:0,type:"primary",onClick:W},{default:f((()=>[$(I(e.okText?e.okText:"确定"),1)])),_:1})):w("",!0)])],4),[[r,L.value]])])),_:1})],4)]))}}),R=()=>{let e=document.getElementById("ui-modal-pop");e||(e=document.createElement("div"),e.setAttribute("id","ui-modal-pop"),document.body.appendChild(e));const n=document.createElement("div");return e.appendChild(n),n},Z=(e,n,t)=>S(Q,{...e,ok:!!e.onOk,cancel:!!e.onCancel,type:n,unMount:()=>{t.remove()}}),ee=e=>{const n=R();O(Z(e,"info",n)).mount(n)},ne=e=>{const n=R();O(Z(e,"success",n)).mount(n)},te=e=>{const n=R();O(Z(e,"error",n)).mount(n)},oe=e=>{const n=R();O(Z(e,"warning",n)).mount(n)},se=e=>{const n=R();O(Z(e,"success",n)).mount(n)},ae=p("p",null,"模态对话框。",-1),le=p("ul",null,[p("li",null,"Modal"),p("li",null,"modal")],-1),ie=p("ul",null,[p("li",null," 需要用户处理事务，又不希望跳转页面以致打断工作流程时，可以使用 Modal 在当前页面正中打开一个浮层，承载相应的操作。 "),p("li",null," 另外当需要一个简洁的确认框询问用户时，可以使用 Modal.confirm() 等语法糖方法。 ")],-1),ce=t({__name:"Intro",setup:e=>(e,n)=>(m(),u(k(N),null,{default:f((()=>[v(k(D),{level:4},{default:f((()=>[$("简介")])),_:1}),v(k(A),null,{default:f((()=>[ae])),_:1}),v(k(D),{level:4},{default:f((()=>[$("组件概述")])),_:1}),v(k(A),null,{default:f((()=>[le])),_:1}),v(k(D),{level:4},{default:f((()=>[$("使用场景")])),_:1}),v(k(A),null,{default:f((()=>[ie])),_:1})])),_:1}))}),me=t({__name:"Api",setup(e){const n=[{rowIndex:1,"事件名称":"change","说明":"弹窗关闭后的回调","回调参数":"(visible:boolean) => void"}],t=[{componentName:"Model",attrContent:[{rowIndex:1,"属性":"visible(v-model)","说明":"对话框是否可见","类型":"boolean","默认值":"false"},{rowIndex:2,"属性":"classname","说明":"自定义类名","类型":"string","默认值":"ui-custom"},{rowIndex:3,"属性":"maskClosable","说明":"点击蒙层是否允许关闭","类型":"boolean","默认值":"true"},{rowIndex:4,"属性":"width","说明":"弹出框宽度","类型":"number","默认值":"300"},{rowIndex:5,"属性":"top","说明":"弹出框距离顶部的距离","类型":"number","默认值":"100"}]},{componentName:"model",attrContent:[{rowIndex:1,"属性":"type","说明":"提示类型","类型":"'info'|'success'|'error'|'warning'|'custom'","默认值":""},{rowIndex:2,"属性":"option","说明":"modal配置","类型":"{\n  title: VNode | string,\n  content: VNode | string,\n  icon?: VNode,\n  onOk?: () => void,\n  onCancel?: () => void,\n  cancelText?: string,\n  okText?: string,\n  width?: number,\n  top?: number,\n  maskClosable?: boolean\n}","默认值":""}]}];return(e,o)=>(m(),u(L,{"attr-content-arr":t,"event-content":n}))}}),ue=p("span",null,"Basic Modal",-1),de=p("p",null,"Some contents...",-1),re=p("p",null,"Some contents...",-1),pe=p("p",null,"Some contents...",-1),ve=t({__name:"DemoOne",setup(e){const n=s(!1),t=()=>{n.value=!0},o=()=>{n.value=!1},a=()=>{n.value=!1};return(e,s)=>(m(),_(E,null,[v(k(M),{type:"primary",onClick:t},{default:f((()=>[$("Open Modal")])),_:1}),v(k(G),{visible:n.value,"onUpdate:visible":s[0]||(s[0]=e=>n.value=e),width:520,top:100,"mask-closable":!1},{title:f((()=>[ue])),content:f((()=>[de,re,pe])),footer:f((()=>[v(k(M),{type:"default",onClick:a},{default:f((()=>[$("取消")])),_:1}),v(k(M),{type:"primary",onClick:o},{default:f((()=>[$("确认")])),_:1})])),_:1},8,["visible"])],64))}}),fe=e=>{e.__sourceCode='<template>\n  <Button type="primary" @click="showModal">Open Modal</Button>\n  <Modal v-model:visible="visible" :width="520" :top="100" :mask-closable="false">\n    <template #title>\n      <span>Basic Modal</span>\n    </template>\n    <template #content>\n      <p>Some contents...</p>\n      <p>Some contents...</p>\n      <p>Some contents...</p>\n    </template>\n    <template #footer>\n      <Button type="default" @click="handleCancel">取消</Button>\n      <Button type="primary" @click="handleOk">确认</Button>\n    </template>\n  </Modal>\n</template>\n\n<script setup lang="ts">\nimport { ref } from \'vue\'\nimport { Modal, Button } from \'@/lib\'\n\nconst visible = ref<boolean>(false)\n\nconst showModal = () => {\n  visible.value = true\n}\nconst handleOk = () => {\n  visible.value = false\n}\nconst handleCancel = () => {\n  visible.value = false\n}\n<\/script>',e.__sourceTitle="基本用法"};fe(ve);const ge={class:"actions"},ye=t({__name:"DemoTwo",setup(e){const n=()=>{ee({title:"This is a notification message",content:S("div",{},[S("p","some messages...some messages..."),S("p","some messages...some messages...")]),onOk:()=>{console.log("ok")},okText:"confirm",onCancel:()=>{console.log("cancel")},cancelText:"cancel",width:400,top:200,maskClosable:!0})},t=()=>{ne({title:"This is a success message",width:400,content:S("div",{},[S("p","some messages...some messages..."),S("p","some messages...some messages...")])})},o=()=>{te({title:"This is an error message",width:400,content:"some messages...some messages..."})},s=()=>{oe({title:"This is a warning message",width:400,content:"some messages...some messages..."})};return(e,a)=>(m(),_("div",ge,[v(k(M),{onClick:n},{default:f((()=>[$("Info")])),_:1}),v(k(M),{onClick:t},{default:f((()=>[$("Success")])),_:1}),v(k(M),{onClick:o},{default:f((()=>[$("Error")])),_:1}),v(k(M),{onClick:s},{default:f((()=>[$("Warning")])),_:1})]))}}),ke=e=>{e.__sourceCode="<template>\n  <div class=\"actions\">\n    <Button @click=\"info\">Info</Button>\n    <Button @click=\"success\">Success</Button>\n    <Button @click=\"error\">Error</Button>\n    <Button @click=\"warning\">Warning</Button>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { h } from 'vue'\nimport { Button, modal } from 'hut-ui'\n\nconst info = () => {\n  modal.info({\n    title: 'This is a notification message',\n    content: h('div', {}, [\n      h('p', 'some messages...some messages...'),\n      h('p', 'some messages...some messages...')\n    ]),\n    onOk: () => {\n      console.log('ok')\n    },\n    okText: 'confirm',\n    onCancel: () => {\n      console.log('cancel')\n    },\n    cancelText: 'cancel',\n    width: 400,\n    top: 200,\n    maskClosable: true\n  })\n}\nconst success = () => {\n  modal.success({\n    title: 'This is a success message',\n    width: 400,\n    content: h('div', {}, [\n      h('p', 'some messages...some messages...'),\n      h('p', 'some messages...some messages...')\n    ])\n  })\n}\n\nconst error = () => {\n  modal.error({\n    title: 'This is an error message',\n    width: 400,\n    content: 'some messages...some messages...'\n  })\n}\n\nconst warning = () => {\n  modal.warning({\n    title: 'This is a warning message',\n    width: 400,\n    content: 'some messages...some messages...'\n  })\n}\n<\/script>\n\n<style lang=\"scss\" scoped>\n.actions {\n  display: flex;\n  gap: 20px;\n}\n</style>",e.__sourceTitle=" 信息提示 "};ke(ye);const he=j(ye,[["__scopeId","data-v-30a66bc6"]]),_e=t({__name:"DemoThree",setup(e){const n=()=>{se({width:400,title:S("p",{style:{color:"red"}},"This is a Custom message "),content:"some messages...some messages...",icon:S(W,{name:"weixin",size:"1em"}),okText:"custom"})};return(e,t)=>(m(),u(k(M),{onClick:n},{default:f((()=>[$("Custom")])),_:1}))}}),be=e=>{e.__sourceCode="<template>\n  <Button @click=\"custom\">Custom</Button>\n</template>\n\n<script setup lang=\"ts\">\nimport { h } from 'vue'\nimport { SvgIcon, Button, modal } from 'hut-ui'\n\nconst custom = () => {\n  modal.custom({\n    width: 400,\n    title: h('p', { style: { color: 'red' } }, 'This is a Custom message '),\n    content: 'some messages...some messages...',\n    icon: h(SvgIcon, { name: 'weixin', size: '1em' }),\n    okText: 'custom'\n  })\n}\n<\/script>",e.__sourceTitle=" 自定义提示内容 "};be(_e);const we=t({__name:"Demo",setup(n){const t=c((()=>[ve,he,_e].map(((e,n)=>X(e,"modal",n)))));return(n,o)=>(m(),u(e,{"demo-arr":k(t)},null,8,["demo-arr"]))}}),xe=t({__name:"Index",setup(e){s(null);const t=["基本用法","信息提示","自定义提示内容"],o=c((()=>Y("modal",t)));return(e,t)=>(m(),u(n,{"nav-arr":k(o),title:"Modal 对话框","component-name":"modal"},{intro:f((()=>[v(ce)])),demo:f((()=>[v(we)])),api:f((()=>[v(me)])),_:1},8,["nav-arr"]))}});export{xe as default};
