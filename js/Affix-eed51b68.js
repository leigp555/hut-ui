import"./Upload.vue_vue_type_style_index_0_lang-dcc18adf.js";import{d as e,v as l,r as a,o as t,O as n,w as u,c as s,e as o,l as v,z as i,s as r}from"./index-4bdb761c.js";const f=e({__name:"Affix",props:{offsetTop:{default:50},scrollContainer:{type:Function,default:()=>window}},emits:["change"],setup(e,{emit:f}){const c=e,{scrollContainer:d,offsetTop:p}=l(c),m=a(null),g=a(null),_=a(0),x=a(!1),w=a();const T=function(e,l){let a=(new Date).getTime();return()=>{const t=(new Date).getTime();t-a>=l&&(e(),a=t)}}((()=>{if(w.value){const e=m.value.offsetTop-w.value.offsetTop;w.value.scrollTop>e-p.value?x.value=!0:w.value.scrollTop<e-p.value&&(x.value=!1)}}),10);return t((()=>{var e;d.value()===window?w.value=document.documentElement:w.value=d.value(),null==(e=w.value)||e.addEventListener("scroll",T),_.value=g.value.getBoundingClientRect().height,m.value.style.height=`${_.value}px`})),n((()=>{var e;null==(e=w.value)||e.removeEventListener("scroll",T)})),u(x,(()=>{f("change",x.value),x.value&&w.value&&(g.value.style.top=`${p.value+w.value.getBoundingClientRect().top}px`)})),(e,l)=>(s(),o("div",{class:"ui-affix-wrap",ref_key:"containerRef",ref:m},[v("div",{ref_key:"innerRef",ref:g,class:r(["ui-affix-inner",{fixed:x.value}])},[i(e.$slots,"default")],2)],512))}});export{f as _};
