import{_ as e}from"./SubMenu.vue_vue_type_style_index_0_lang-b3c2de52.js";import"./Upload.vue_vue_type_style_index_0_lang-ee73dc16.js";import{d as a,k as l,r as i,z as t,D as s,o as n,c as u,b as o,n as p,l as g,e as c,F as d,f as r,t as v,v as h,x as m}from"./index-e0119140.js";const b={class:"ui-pageSizeIcon"},w=["data-pageSize"],S=o("span",null,"跳至",-1),z=o("span",null,"页",-1),k=o("span",null,"共",-1),_=o("span",null,"页",-1),y=a({__name:"Pagination",props:{current:{default:1},total:{default:0},pageSize:{default:10},disabled:{type:Boolean,default:!1},showQuickJumper:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:!1},pageSizeOptions:{default:()=>["10","20","30","40","50"]}},emits:["update:current","update:pageSize","pageSizeChange","change"],setup(a,{emit:y}){const f=a,{current:C,total:x,pageSize:L,disabled:I,showSizeChanger:B,showQuickJumper:T,showTotal:N,pageSizeOptions:j}=l(f),D=i(null),J=t((()=>Math.ceil(x.value/L.value))),M=t((()=>J.value<=5?0:C.value>=3&&C.value+2<=J.value?C.value-3:C.value>=3&&C.value+1===J.value?C.value-4:C.value>=3&&C.value===J.value?C.value-5:0));s((()=>{C.value<=1?y("change",1):C.value>=J.value&&y("change",J.value)}));const O=()=>{C.value>1&&y("change",C.value-1)},A=()=>{C.value<J.value&&y("change",C.value+1)},P=e=>{const a=e.target,l=a.getAttribute("data-spec");"li"===a.tagName.toLowerCase()&&"pageNumber"===l&&y("change",parseInt(a.innerText,10))},Q=()=>{D.value.classList.add("list-show")},q=()=>{D.value.classList.remove("list-show")},F=e=>{const a=e.target,l=a.getAttribute("data-pageSize");"li"===a.tagName.toLowerCase()&&l&&(y("pageSizeChange",parseInt(l,10)),D.value.classList.remove("list-show"))},U=e=>{const a=e.target,l=a.value.trim();let i;try{i=parseInt(l,10),i?i>J.value?(y("change",J.value),a.value=""):i<1?(y("change",1),a.value=""):(y("change",i),a.value=""):a.value=""}catch(t){a.value=""}};return(a,l)=>(n(),u("div",{class:p(["ui-pagination-wrap",{disabled:g(I)}])},[o("ol",{class:p(["ui-pagination-ol",{disabled:g(I)}]),onClick:P},[o("li",{onClick:O,class:p(["ui-pagination-subIcon ui-pagination-item",{subDisabled:g(C)<=1}])},[c(e,{name:"back",width:"1em",height:"1em"})],2),(n(!0),u(d,null,r(g(J)<=5?g(J):5,(e=>(n(),u("li",{key:e,class:p(["ui-pagination-item",{"ui-pagination-currentPage":g(M)+e===g(C)}]),"data-spec":"pageNumber"},v(g(M)+e),3)))),128)),o("li",{onClick:A,class:p(["ui-pagination-addIcon ui-pagination-item",{addDisabled:g(C)>=g(J)}])},[c(e,{name:"back",width:"1em",height:"1em"})],2)],2),o("div",{class:p(["ui-pageSizeList-wrap",{disabled:g(I)}])},[g(B)?(n(),u("div",{key:0,class:"ui-pagination-pageSize ui-pagination-item",onClick:Q,onBlur:q,tabindex:"-1"},[h(a.$slots,"buildOptionText",{value:g(L)}),o("span",b,[c(e,{name:"back",width:"1em",height:"1em"})])],32)):m("",!0),o("ol",{class:"pageSize-list",ref_key:"pageSizeList",ref:D,onMousedown:F},[(n(!0),u(d,null,r(g(j),(e=>(n(),u("li",{key:e,class:p({selected:e===g(L).toString()}),"data-pageSize":e},v(e)+"条/页 ",11,w)))),128))],544)],2),g(T)?(n(),u("div",{key:0,class:p(["ui-quickJumper-wrap",{disabled:g(I)}])},[S,o("input",{type:"text",onChange:U},null,32),z],2)):m("",!0),g(N)?(n(),u("div",{key:1,class:p(["ui-pageTotal-wrap",{disabled:g(I)}])},[k,o("span",null,v(g(C))+"/"+v(g(J)),1),_],2)):m("",!0)],2))}});export{y as _};
