import{_ as e,P as n,T as t,g as o,D as s,C as a,a as l}from"./DemoDisplay-496f0bad.js";import{l as i}from"./Upload.vue_vue_type_style_index_0_lang-5a132e89.js";import{d as c,k as m,r as u,a as d,N as r,E as p,z as v,o as g,g as f,B as y,C as _,b as k,e as h,w as b,T as w,y as x,l as C,J as T,c as B,v as M,x as I,O as $,S,m as O,t as E,D,h as W,L as j,M as A,F as N,_ as L,A as X}from"./index-c5a7ce44.js";/* empty css                                                */import{_ as Y}from"./ApiIntro-0d8754bc.js";import{b as V}from"./bodyAddClass-3900e5c1.js";const P={class:"ui-modal-wrap"},U={key:0,class:"ui-modal-title"},z={key:1,class:"ui-modal-content"},F={key:2,class:"ui-modal-footer"},J=c({inheritAttrs:!1,__name:"Modal",props:{visible:{type:Boolean,default:!1},classname:{default:"ui-custom"},maskClosable:{type:Boolean,default:!0},width:{default:300},top:{default:100}},emits:["update:visible","change"],setup(e,{emit:n}){const t=e,{visible:o,maskClosable:s,width:a,top:l}=m(t),i=()=>{s.value&&(n("update:visible",!1),n("change",!1))},c=u(!1),S=u(!1),O=u(0),E=d({x:0,y:0}),D=e=>{a.value+32>O.value?(E.x=e.clientX-document.body.clientWidth/2+(O.value-32)/2,E.y=e.clientY-l.value):(E.x=e.clientX-document.body.clientWidth/2+a.value/2,E.y=e.clientY-l.value),S.value=!0,document.body.removeEventListener("click",D)};r((()=>{p(o,(()=>{if(o.value)V(o.value),c.value=!0,O.value=document.body.clientWidth,document.body.addEventListener("click",D);else{const e=setTimeout((()=>{V(o.value),c.value=!1,window.clearTimeout(e)}),400);S.value=!1}}))}));const W=v((()=>a.value+32>O.value?O.value-32+"px":`${a.value}px`)),j=v((()=>`${E.x}px ${E.y}px`));return(n,t)=>(g(),f($,{to:"body"},[y(k("div",P,[h(w,{name:"modal-mask"},{default:b((()=>[y(k("div",{class:"ui-modal-mask",onClick:i},null,512),[[_,S.value]])])),_:1}),k("div",{class:"ui-modal-body-wrap",style:x({top:`${C(l)}px`})},[h(w,{name:"modal"},{default:b((()=>[y(k("div",T({class:"ui-modal-body"},n.$attrs,{class:{[e.classname]:!0},style:{width:C(W),transformOrigin:C(j)}}),[n.$slots.title?(g(),B("div",U,[M(n.$slots,"title")])):I("",!0),n.$slots.content?(g(),B("div",z,[M(n.$slots,"content")])):I("",!0),n.$slots.footer?(g(),B("div",F,[M(n.$slots,"footer")])):I("",!0)],16),[[_,S.value]])])),_:3})],4)],512),[[_,c.value]])]))}}),q={class:"ui-modal-pop-wrap ui-modal-wrap"},G={class:"ui-modal-content",style:{"margin-top":"10px",padding:"0"}},H={key:1},K={class:"ui-modal-footer",style:{padding:"10px 16px","border-top":"none","margin-bottom":"4px"}},Q=c({__name:"Pop",props:{title:null,content:null,icon:null,cancelText:null,okText:null,type:null,unMount:null,ok:{type:Boolean},cancel:{type:Boolean},width:{default:300},top:{default:100},maskClosable:{type:Boolean,default:!1}},emits:["ok","cancel"],setup(e,{emit:n}){const t=e,{unMount:o,width:s,top:a,maskClosable:l,ok:c,cancel:T}=m(t),M=u(!1),$=()=>{c.value&&n("ok"),M.value=!1;const e=setTimeout((()=>{o.value(),window.clearTimeout(e)}),400)},j=()=>{T.value&&n("cancel"),M.value=!1;const e=setTimeout((()=>{o.value(),window.clearTimeout(e)}),400)},A=()=>{if(l.value){M.value=!1;const e=setTimeout((()=>{o.value(),window.clearTimeout(e)}),400)}},N=u(!1),L=u(!1),X=u(0),Y=d({x:0,y:0}),P=e=>{s.value+32>X.value?(Y.x=e.clientX-document.body.clientWidth/2+(X.value-32)/2,Y.y=e.clientY-a.value):(Y.x=e.clientX-document.body.clientWidth/2+s.value/2,Y.y=e.clientY-a.value),L.value=!0,document.body.removeEventListener("click",P)};r((()=>{p(M,(()=>{if(M.value)V(M.value),N.value=!0,X.value=document.body.clientWidth,document.body.addEventListener("click",P);else{const e=setTimeout((()=>{V(M.value),N.value=!1,window.clearTimeout(e)}),300);L.value=!1}})),M.value=!0}));const U=v((()=>s.value+32>X.value?X.value-32+"px":`${s.value}px`)),z=v((()=>`${Y.x}px ${Y.y}px`));return(n,t)=>(g(),B("div",q,[h(w,{name:"modal-mask"},{default:b((()=>[y(k("div",{class:"ui-modal-mask",onClick:A},null,512),[[_,L.value]])])),_:1}),k("div",{class:"ui-modal-body-wrap",style:x({top:`${C(a)}px`})},[h(w,{name:"modal"},{default:b((()=>[y(k("div",{class:"ui-modal-body",style:x({width:C(U),transformOrigin:C(z),gap:0})},[k("div",G,[h(i,{message:"string"==typeof e.title?e.title:"",type:e.type,showIcon:"",banner:"",style:{backgroundColor:"#fff",marginBottom:0}},S({description:b((()=>["string"!=typeof e.content?(g(),f(O(e.content),{key:0})):(g(),B("div",H,E(e.content),1))])),_:2},["string"!=typeof e.title?{name:"title",fn:b((()=>[(g(),f(O(e.title)))])),key:"0"}:void 0,e.icon?{name:"icon",fn:b((()=>[(g(),f(O(e.icon)))])),key:"1"}:void 0]),1032,["message","type"])]),k("div",K,[h(D,{type:"default",onClick:j},{default:b((()=>[W(E(e.cancelText?e.cancelText:"取消"),1)])),_:1}),C(c)?(g(),f(D,{key:0,type:"primary",onClick:$},{default:b((()=>[W(E(e.okText?e.okText:"确定"),1)])),_:1})):I("",!0)])],4),[[_,L.value]])])),_:1})],4)]))}}),R=()=>{let e=document.getElementById("ui-modal-pop");e||(e=document.createElement("div"),e.setAttribute("id","ui-modal-pop"),document.body.appendChild(e));const n=document.createElement("div");return e.appendChild(n),n},Z=(e,n,t)=>A(Q,{...e,ok:!!e.onOk,cancel:!!e.onCancel,type:n,unMount:()=>{t.remove()}}),ee=e=>{const n=R();j(Z(e,"info",n)).mount(n)},ne=e=>{const n=R();j(Z(e,"success",n)).mount(n)},te=e=>{const n=R();j(Z(e,"error",n)).mount(n)},oe=e=>{const n=R();j(Z(e,"warning",n)).mount(n)},se=e=>{const n=R();j(Z(e,"success",n)).mount(n)},ae=k("p",null,"模态对话框。",-1),le=k("ul",null,[k("li",null,"Modal"),k("li",null,"modal")],-1),ie=k("ul",null,[k("li",null," 需要用户处理事务，又不希望跳转页面以致打断工作流程时，可以使用 Modal 在当前页面正中打开一个浮层，承载相应的操作。 "),k("li",null," 另外当需要一个简洁的确认框询问用户时，可以使用 Modal.confirm() 等语法糖方法。 ")],-1),ce=c({__name:"Intro",setup:o=>(o,s)=>(g(),f(C(t),null,{default:b((()=>[h(C(e),{level:4},{default:b((()=>[W("简介")])),_:1}),h(C(n),null,{default:b((()=>[ae])),_:1}),h(C(e),{level:4},{default:b((()=>[W("组件概述")])),_:1}),h(C(n),null,{default:b((()=>[le])),_:1}),h(C(e),{level:4},{default:b((()=>[W("使用场景")])),_:1}),h(C(n),null,{default:b((()=>[ie])),_:1})])),_:1}))}),me=c({__name:"Api",setup(e){const n=[{rowIndex:1,"事件名称":"change","说明":"弹窗关闭后的回调","回调参数":"(visible:boolean) => void"}],t=[{componentName:"Model",attrContent:[{rowIndex:1,"属性":"visible(v-model)","说明":"对话框是否可见","类型":"boolean","默认值":"false"},{rowIndex:2,"属性":"classname","说明":"自定义类名","类型":"string","默认值":"ui-custom"},{rowIndex:3,"属性":"maskClosable","说明":"点击蒙层是否允许关闭","类型":"boolean","默认值":"true"},{rowIndex:4,"属性":"width","说明":"弹出框宽度","类型":"number","默认值":"300"},{rowIndex:5,"属性":"top","说明":"弹出框距离顶部的距离","类型":"number","默认值":"100"}]},{componentName:"model",attrContent:[{rowIndex:1,"属性":"type","说明":"提示类型","类型":"'info'|'success'|'error'|'warning'|'custom'","默认值":""},{rowIndex:2,"属性":"option","说明":"modal配置","类型":"{\n  title: VNode | string,\n  content: VNode | string,\n  icon?: VNode,\n  onOk?: () => void,\n  onCancel?: () => void,\n  cancelText?: string,\n  okText?: string,\n  width?: number,\n  top?: number,\n  maskClosable?: boolean\n}","默认值":""}]}];return(e,o)=>(g(),f(Y,{"attr-content-arr":t,"event-content":n}))}});var ue=e=>{e.__sourceCode='<template>\n  <Button type="primary" @click="showModal">Open Modal</Button>\n  <Modal v-model:visible="visible" :width="520" :top="100" :mask-closable="false">\n    <template #title>\n      <span>Basic Modal</span>\n    </template>\n    <template #content>\n      <p>Some contents...</p>\n      <p>Some contents...</p>\n      <p>Some contents...</p>\n    </template>\n    <template #footer>\n      <Button type="default" @click="handleCancel">取消</Button>\n      <Button type="primary" @click="handleOk">确认</Button>\n    </template>\n  </Modal>\n</template>\n\n<script setup lang="ts">\nimport { ref } from \'vue\'\nimport { Modal, Button } from \'@/lib\'\n\nconst visible = ref<boolean>(false)\n\nconst showModal = () => {\n  visible.value = true\n}\nconst handleOk = () => {\n  visible.value = false\n}\nconst handleCancel = () => {\n  visible.value = false\n}\n<\/script>',e.__sourceTitle="基本用法"};const de=k("span",null,"Basic Modal",-1),re=k("p",null,"Some contents...",-1),pe=k("p",null,"Some contents...",-1),ve=k("p",null,"Some contents...",-1),ge=c({__name:"DemoOne",setup(e){const n=u(!1),t=()=>{n.value=!0},o=()=>{n.value=!1},s=()=>{n.value=!1};return(e,a)=>(g(),B(N,null,[h(C(D),{type:"primary",onClick:t},{default:b((()=>[W("Open Modal")])),_:1}),h(C(J),{visible:n.value,"onUpdate:visible":a[0]||(a[0]=e=>n.value=e),width:520,top:100,"mask-closable":!1},{title:b((()=>[de])),content:b((()=>[re,pe,ve])),footer:b((()=>[h(C(D),{type:"default",onClick:s},{default:b((()=>[W("取消")])),_:1}),h(C(D),{type:"primary",onClick:o},{default:b((()=>[W("确认")])),_:1})])),_:1},8,["visible"])],64))}});ue(ge);var fe=e=>{e.__sourceCode="<template>\n  <div class=\"actions\">\n    <Button @click=\"info\">Info</Button>\n    <Button @click=\"success\">Success</Button>\n    <Button @click=\"error\">Error</Button>\n    <Button @click=\"warning\">Warning</Button>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { h } from 'vue'\nimport { Button, modal } from 'ant'\n\nconst info = () => {\n  modal.info({\n    title: 'This is a notification message',\n    content: h('div', {}, [\n      h('p', 'some messages...some messages...'),\n      h('p', 'some messages...some messages...')\n    ]),\n    onOk: () => {\n      console.log('ok')\n    },\n    okText: 'confirm',\n    onCancel: () => {\n      console.log('cancel')\n    },\n    cancelText: 'cancel',\n    width: 400,\n    top: 200,\n    maskClosable: true\n  })\n}\nconst success = () => {\n  modal.success({\n    title: 'This is a success message',\n    width: 400,\n    content: h('div', {}, [\n      h('p', 'some messages...some messages...'),\n      h('p', 'some messages...some messages...')\n    ])\n  })\n}\n\nconst error = () => {\n  modal.error({\n    title: 'This is an error message',\n    width: 400,\n    content: 'some messages...some messages...'\n  })\n}\n\nconst warning = () => {\n  modal.warning({\n    title: 'This is a warning message',\n    width: 400,\n    content: 'some messages...some messages...'\n  })\n}\n<\/script>\n\n<style lang=\"scss\" scoped>\n.actions {\n  display: flex;\n  gap: 20px;\n}\n</style>",e.__sourceTitle=" 信息提示 "};const ye={class:"actions"},_e=c({__name:"DemoTwo",setup(e){const n=()=>{ee({title:"This is a notification message",content:A("div",{},[A("p","some messages...some messages..."),A("p","some messages...some messages...")]),onOk:()=>{console.log("ok")},okText:"confirm",onCancel:()=>{console.log("cancel")},cancelText:"cancel",width:400,top:200,maskClosable:!0})},t=()=>{ne({title:"This is a success message",width:400,content:A("div",{},[A("p","some messages...some messages..."),A("p","some messages...some messages...")])})},o=()=>{te({title:"This is an error message",width:400,content:"some messages...some messages..."})},s=()=>{oe({title:"This is a warning message",width:400,content:"some messages...some messages..."})};return(e,a)=>(g(),B("div",ye,[h(C(D),{onClick:n},{default:b((()=>[W("Info")])),_:1}),h(C(D),{onClick:t},{default:b((()=>[W("Success")])),_:1}),h(C(D),{onClick:o},{default:b((()=>[W("Error")])),_:1}),h(C(D),{onClick:s},{default:b((()=>[W("Warning")])),_:1})]))}});fe(_e);var ke=L(_e,[["__scopeId","data-v-76258e77"]]),he=e=>{e.__sourceCode="<template>\n  <Button @click=\"custom\">Custom</Button>\n</template>\n\n<script setup lang=\"ts\">\nimport { h } from 'vue'\nimport { Button, modal } from 'ant'\nimport SvgIcon from '@/lib/common/SvgIcon.vue'\n\nconst custom = () => {\n  modal.custom({\n    width: 400,\n    title: h('p', { style: { color: 'red' } }, 'This is a Custom message '),\n    content: 'some messages...some messages...',\n    icon: h(SvgIcon, { name: 'weixin', width: '1em', height: '1em' }),\n    okText: 'custom'\n  })\n}\n<\/script>",e.__sourceTitle=" 自定义提示内容 "};const be=c({__name:"DemoThree",setup(e){const n=()=>{se({width:400,title:A("p",{style:{color:"red"}},"This is a Custom message "),content:"some messages...some messages...",icon:A(X,{name:"weixin",width:"1em",height:"1em"}),okText:"custom"})};return(e,t)=>(g(),f(C(D),{onClick:n},{default:b((()=>[W("Custom")])),_:1}))}});he(be);const we=c({__name:"Demo",setup(e){const n=v((()=>[ge,ke,be].map(((e,n)=>o(e,"modal",n)))));return(e,t)=>(g(),f(s,{"demo-arr":C(n)},null,8,["demo-arr"]))}}),xe=c({__name:"Index",setup(e){u(null);const n=["基本用法","信息提示","自定义提示内容"],t=v((()=>l("modal",n)));return(e,n)=>(g(),f(a,{"nav-arr":C(t),title:"Modal 对话框","component-name":"modal"},{intro:b((()=>[h(ce)])),demo:b((()=>[h(we)])),api:b((()=>[h(me)])),_:1},8,["nav-arr"]))}});export{xe as default};
