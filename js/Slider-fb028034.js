import"./Paragraph.vue_vue_type_style_index_0_lang-1a82c502.js";import{d as e,k as a,r as l,D as u,o as t,c as s,b as v,t as n,l as r,n as d}from"./index-54c84176.js";const i={class:"ui-slider-view"},o={class:"ui-slider-tip"},m=e({__name:"Slider",props:{value:{default:0},disabled:{type:Boolean,default:!1}},emits:["update:value","change","afterChange"],setup(e,{emit:m}){const c=e,{value:p,disabled:f}=a(c),g=l(null),y=l(null),_=l(null),x=l(!1),h=l(0),E=l(0),b=l(0),k=l(0),L=l(0);u((()=>{g.value&&_.value&&y.value&&(h.value=g.value.getBoundingClientRect().width-16,E.value=p.value/100*h.value,k.value=E.value,_.value.style.transform=`translate3d(${E.value}px,-50%,0)`,y.value.style.transform=`translate3d(${E.value}px,0,0)`)}));const $=e=>{if(e.stopPropagation(),e.preventDefault(),x.value&&_.value&&y.value){L.value=k.value+e.clientX-b.value;const a=E.value+L.value-k.value;a<=h.value&&a>=0?(_.value.style.transform=`translate3d(${L.value}px,-50%,0)`,y.value.style.transform=`translate3d(${L.value}px,0,0)`,m("update:value",Math.ceil(a/h.value*100)),m("change",Math.ceil(a/h.value*100))):a>h.value?(_.value.style.transform=`translate3d(${h.value}px,-50%,0)`,y.value.style.transform=`translate3d(${h.value}px,0,0)`,m("update:value",100),m("change",100),L.value=h.value):a<0&&(_.value.style.transform="translate3d(0px,-50%,0)",y.value.style.transform="translate3d(0px,0,0)",m("update:value",0),m("change",0),L.value=0)}},w=()=>{k.value=L.value,x.value=!1,document.documentElement.removeEventListener("mousemove",$),document.documentElement.removeEventListener("mouseup",w),_.value.classList.remove("ui-slider-drag"),m("afterChange",p.value)},M=e=>{if(f.value)return e.stopPropagation(),void e.preventDefault();x.value=!0,b.value=e.clientX,E.value=p.value/100*h.value,document.documentElement.addEventListener("mousemove",$),document.documentElement.addEventListener("mouseup",w),_.value.classList.add("ui-slider-drag")};return(e,a)=>(t(),s("div",{class:d(["ui-slider-wrap",{"ui-slider-disabled":r(f)}]),ref_key:"sliderWrapRef",ref:g},[v("div",i,[v("div",{class:"ui-slider-line",ref_key:"sliderLineRef",ref:y},null,512)]),v("div",{class:d(["ui-slider-block",{"ui-slider-block-disabled":r(f)}]),ref_key:"sliderBlockRef",ref:_,onMousedown:M,onMouseup:w},[v("span",o,n(r(p)),1)],34)],2))}});export{m as _};
