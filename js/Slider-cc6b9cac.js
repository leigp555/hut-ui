import"./Upload.vue_vue_type_style_index_0_lang-31d412f5.js";import{d as e,k as a,r as l,D as u,o as t,c as n,b as s,t as v,l as o,n as r}from"./index-5d11ddfa.js";const d={class:"ui-slider-view"},i={class:"ui-slider-tip"},c=e({__name:"Slider",props:{value:{default:0},disabled:{type:Boolean,default:!1}},emits:["update:value","change","afterChange"],setup(e,{emit:c}){const m=e,{value:p,disabled:f}=a(m),g=l(null),h=l(null),E=l(null),y=l(!1),L=l(0),_=l(0),x=l(0),b=l(0),k=l(0);function $(){if(!E.value)return;const e=_.value+k.value-b.value;e<=L.value&&e>=0?(E.value.style.transform=`translate3d(${k.value}px,-50%,0)`,h.value.style.transform=`translate3d(${k.value}px,0,0)`,c("update:value",Math.ceil(e/L.value*100)),c("change",Math.ceil(e/L.value*100))):e>L.value?(E.value.style.transform=`translate3d(${L.value}px,-50%,0)`,h.value.style.transform=`translate3d(${L.value}px,0,0)`,c("update:value",100),c("change",100),k.value=L.value):e<0&&(E.value.style.transform="translate3d(0px,-50%,0)",h.value.style.transform="translate3d(0px,0,0)",c("update:value",0),c("change",0),k.value=0)}function w(e){e.stopPropagation(),e.preventDefault(),y.value&&E.value&&h.value&&(k.value=b.value+e.clientX-x.value,$())}function C(){b.value=k.value,y.value=!1,document.documentElement.removeEventListener("mousemove",w),document.documentElement.removeEventListener("mouseup",C),E.value.classList.remove("ui-slider-drag"),c("afterChange",p.value)}u((()=>{g.value&&E.value&&h.value&&(L.value=g.value.getBoundingClientRect().width-16,_.value=p.value/100*L.value,b.value=_.value,E.value.style.transform=`translate3d(${_.value}px,-50%,0)`,h.value.style.transform=`translate3d(${_.value}px,0,0)`)}));const D=e=>{if(f.value)return e.stopPropagation(),void e.preventDefault();y.value=!0,x.value=e.clientX,_.value=p.value/100*L.value,document.documentElement.addEventListener("mousemove",w),document.documentElement.addEventListener("mouseup",C),E.value.classList.add("ui-slider-drag")};function M(e){e.stopPropagation(),y.value&&E.value&&h.value&&(k.value=b.value+e.touches[0].clientX-x.value,$())}function P(){b.value=k.value,y.value=!1,document.documentElement.removeEventListener("touchmove",M),document.documentElement.removeEventListener("touchend",P),E.value.classList.remove("ui-slider-drag"),c("afterChange",p.value)}const R=e=>{if(f.value)return e.stopPropagation(),void e.preventDefault();y.value=!0,x.value=e.touches[0].clientX,_.value=p.value/100*L.value,document.documentElement.addEventListener("touchmove",M),document.documentElement.addEventListener("touchend",P),E.value.classList.add("ui-slider-drag")};return(e,a)=>(t(),n("div",{class:r(["ui-slider-wrap",{"ui-slider-disabled":o(f)}]),ref_key:"sliderWrapRef",ref:g},[s("div",d,[s("div",{class:"ui-slider-line",ref_key:"sliderLineRef",ref:h},null,512)]),s("div",{class:r(["ui-slider-block",{"ui-slider-block-disabled":o(f)}]),ref_key:"sliderBlockRef",ref:E,onMousedown:D,onMouseup:C,onTouchstart:R,onTouchend:P},[s("span",i,v(o(p)),1)],34)],2))}});export{c as _};
