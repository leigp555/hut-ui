import"./Paragraph.vue_vue_type_style_index_0_lang-de84b885.js";import{d as e,k as a,r as l,D as t,P as n,E as u,o as s,c as o,b as v,v as i,n as r}from"./index-7adc59d4.js";const f=e({__name:"Affix",props:{offsetTop:{default:50},scrollContainer:{type:Function,default:()=>window}},emits:["change"],setup(e,{emit:f}){const c=e,{scrollContainer:d,offsetTop:p}=a(c),g=l(null),m=l(null),_=l(0),x=l(!1),T=l();const h=function(e,a){let l=(new Date).getTime();return()=>{const t=(new Date).getTime();t-l>=a&&(e(),l=t)}}((()=>{if(T.value){const e=g.value.offsetTop-T.value.offsetTop;T.value.scrollTop>e-p.value?x.value=!0:T.value.scrollTop<e-p.value&&(x.value=!1)}}),10);return t((()=>{var e;d.value()===window?T.value=document.documentElement:T.value=d.value(),null==(e=T.value)||e.addEventListener("scroll",h),_.value=m.value.getBoundingClientRect().height,g.value.style.height=`${_.value}px`})),n((()=>{var e;null==(e=T.value)||e.removeEventListener("scroll",h)})),u(x,(()=>{f("change",x.value),x.value&&T.value&&(m.value.style.top=`${p.value+T.value.getBoundingClientRect().top}px`)})),(e,a)=>(s(),o("div",{class:"ui-affix-wrap",ref_key:"containerRef",ref:g},[v("div",{ref_key:"innerRef",ref:m,class:r(["ui-affix-inner",{fixed:x.value}])},[i(e.$slots,"default")],2)],512))}});export{f as _};
