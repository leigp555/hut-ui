import{d as a,x as e,r as l,Q as i,o as t,c as s,e as n,m as u,A as o,q as p,f as g,a4 as c,F as d,h as r,t as v,C as h,D as m}from"./index-3d4a6970.js";const b={class:"ui-pageSizeIcon"},w=["data-pageSize"],S=u("span",null,"跳至",-1),z=u("span",null,"页",-1),k=u("span",null,"共",-1),f=u("span",null,"页",-1),y=a({__name:"Pagination",props:{current:{default:1},total:{default:0},pageSize:{default:10},disabled:{type:Boolean,default:!1},showQuickJumper:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:!1},pageSizeOptions:{default:()=>["10","20","30","40","50"]}},emits:["update:current","update:pageSize","pageSizeChange","change"],setup(a,{emit:y}){const C=a,{current:x,total:L,pageSize:I,disabled:B,showSizeChanger:T,showQuickJumper:N,showTotal:_,pageSizeOptions:A}=e(C),D=l(null),J=i((()=>Math.ceil(L.value/I.value))),O=i((()=>J.value<=5?0:x.value>=3&&x.value+2<=J.value?x.value-3:x.value>=3&&x.value+1===J.value?x.value-4:x.value>=3&&x.value===J.value?x.value-5:0));t((()=>{x.value<=1?y("change",1):x.value>=J.value&&y("change",J.value)}));const Q=()=>{x.value>1&&y("change",x.value-1)},q=()=>{x.value<J.value&&y("change",x.value+1)},M=a=>{const e=a.target,l=e.getAttribute("data-spec");"li"===e.tagName.toLowerCase()&&"pageNumber"===l&&y("change",parseInt(e.innerText,10))},P=()=>{D.value.classList.add("list-show")},j=()=>{D.value.classList.remove("list-show")},F=a=>{const e=a.target,l=e.getAttribute("data-pageSize");"li"===e.tagName.toLowerCase()&&l&&(y("pageSizeChange",parseInt(l,10)),D.value.classList.remove("list-show"))},$=a=>{const e=a.target,l=e.value.trim();let i;try{i=parseInt(l,10),i?i>J.value?(y("change",J.value),e.value=""):i<1?(y("change",1),e.value=""):(y("change",i),e.value=""):e.value=""}catch(t){e.value=""}};return(a,e)=>(s(),n("div",{class:o(["ui-pagination-wrap",{disabled:p(B)}])},[u("ol",{class:o(["ui-pagination-ol",{disabled:p(B)}]),onClick:M},[u("li",{onClick:Q,class:o(["ui-pagination-subIcon ui-pagination-item",{subDisabled:p(x)<=1}])},[g(p(c),{name:"back",width:"1em",height:"1em"})],2),(s(!0),n(d,null,r(p(J)<=5?p(J):5,(a=>(s(),n("li",{key:a,class:o(["ui-pagination-item",{"ui-pagination-currentPage":p(O)+a===p(x)}]),"data-spec":"pageNumber"},v(p(O)+a),3)))),128)),u("li",{onClick:q,class:o(["ui-pagination-addIcon ui-pagination-item",{addDisabled:p(x)>=p(J)}])},[g(p(c),{name:"back",width:"1em",height:"1em"})],2)],2),u("div",{class:o(["ui-pageSizeList-wrap",{disabled:p(B)}])},[p(T)?(s(),n("div",{key:0,class:"ui-pagination-pageSize ui-pagination-item",onClick:P,onBlur:j,tabindex:"-1"},[h(a.$slots,"buildOptionText",{value:p(I)}),u("span",b,[g(p(c),{name:"back",width:"1em",height:"1em"})])],32)):m("",!0),u("ol",{class:"pageSize-list",ref_key:"pageSizeList",ref:D,onMousedown:F},[(s(!0),n(d,null,r(p(A),(a=>(s(),n("li",{key:a,class:o({selected:a===p(I).toString()}),"data-pageSize":a},v(a)+"条/页 ",11,w)))),128))],544)],2),p(N)?(s(),n("div",{key:0,class:o(["ui-quickJumper-wrap",{disabled:p(B)}])},[S,u("input",{type:"text",onChange:$},null,32),z],2)):m("",!0),p(_)?(s(),n("div",{key:1,class:o(["ui-pageTotal-wrap",{disabled:p(B)}])},[k,u("span",null,v(p(x))+"/"+v(p(J)),1),f],2)):m("",!0)],2))}});export{y as _};
