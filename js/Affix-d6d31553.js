import"./Upload.vue_vue_type_style_index_0_lang-f3a3fb2c.js";import{d as e,k as l,r as a,C as t,M as n,D as o,o as s,c as u,b as i,v,n as f}from"./index-8f81273d.js";const r=e({__name:"Affix",props:{offsetTop:{default:50},scrollContainer:{type:Function,default:()=>window}},emits:["change"],setup(e,{emit:r}){const c=e,{scrollContainer:p,offsetTop:d}=l(c),m=a(null),g=a(null),_=a(0),x=a(!1),T=a(null);const w=function(e,l){let a=(new Date).getTime();return()=>{const t=(new Date).getTime();t-a>=l&&(e(),a=t)}}((()=>{const e=m.value.offsetTop-T.value.offsetTop;T.value.scrollTop>e-d.value?x.value=!0:T.value.scrollTop<e-d.value&&(x.value=!1)}),10);return t((()=>{"window"===p.value()?T.value=document.documentElement:T.value=p.value(),T.value.addEventListener("scroll",w),_.value=g.value.getBoundingClientRect().height,m.value.style.height=`${_.value}px`})),n((()=>{T.value.removeEventListener("scroll",w)})),o(x,(()=>{r("change",x.value),x.value&&(g.value.style.top=`${d.value+T.value.getBoundingClientRect().top}px`)})),(e,l)=>(s(),u("div",{class:"ui-affix-wrap",ref_key:"containerRef",ref:m},[i("div",{ref_key:"innerRef",ref:g,class:f(["ui-affix-inner",{fixed:x.value}])},[v(e.$slots,"default")],2)],512))}});export{r as _};
