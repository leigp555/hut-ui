import{_ as e,P as n,T as t,g as o,D as s,C as a,a as l}from"./DemoDisplay-bf35ee91.js";import{m as i,_ as c}from"./Upload.vue_vue_type_style_index_0_lang-01c7e68e.js";import{_ as m}from"./SubMenu.vue_vue_type_style_index_0_lang-8e3a5464.js";import{d as u,k as d,r,a as p,L as v,C as g,z as f,o as y,g as _,A as k,B as h,b,e as w,w as x,T as C,y as T,l as B,G as M,c as I,v as $,x as S,M as O,Q as E,m as W,t as D,h as j,J as A,K as L,F as N,_ as X}from"./index-c9229fcd.js";import{_ as Y}from"./ApiIntro-a10e99d0.js";import{b as V}from"./bodyAddClass-c4081088.js";const P={class:"ui-modal-wrap"},U={key:0,class:"ui-modal-title"},z={key:1,class:"ui-modal-content"},F={key:2,class:"ui-modal-footer"},G=u({inheritAttrs:!1,__name:"Modal",props:{visible:{type:Boolean,default:!1},classname:{default:"ui-custom"},maskClosable:{type:Boolean,default:!0},width:{default:300},top:{default:100}},emits:["update:visible","change"],setup(e,{emit:n}){const t=e,{visible:o,maskClosable:s,width:a,top:l}=d(t),i=()=>{s.value&&(n("update:visible",!1),n("change",!1))},c=r(!1),m=r(!1),u=r(0),E=p({x:0,y:0}),W=e=>{a.value+32>u.value?(E.x=e.clientX-document.body.clientWidth/2+(u.value-32)/2,E.y=e.clientY-l.value):(E.x=e.clientX-document.body.clientWidth/2+a.value/2,E.y=e.clientY-l.value),m.value=!0,document.body.removeEventListener("click",W)};v((()=>{g(o,(()=>{if(o.value)V(o.value),c.value=!0,u.value=document.body.clientWidth,document.body.addEventListener("click",W);else{const e=setTimeout((()=>{V(o.value),c.value=!1,window.clearTimeout(e)}),400);m.value=!1}}))}));const D=f((()=>a.value+32>u.value?u.value-32+"px":`${a.value}px`)),j=f((()=>`${E.x}px ${E.y}px`));return(n,t)=>(y(),_(O,{to:"body"},[k(b("div",P,[w(C,{name:"modal-mask"},{default:x((()=>[k(b("div",{class:"ui-modal-mask",onClick:i},null,512),[[h,m.value]])])),_:1}),b("div",{class:"ui-modal-body-wrap",style:T({top:`${B(l)}px`})},[w(C,{name:"modal"},{default:x((()=>[k(b("div",M({class:"ui-modal-body"},n.$attrs,{class:{[e.classname]:!0},style:{width:B(D),transformOrigin:B(j)}}),[n.$slots.title?(y(),I("div",U,[$(n.$slots,"title")])):S("",!0),n.$slots.content?(y(),I("div",z,[$(n.$slots,"content")])):S("",!0),n.$slots.footer?(y(),I("div",F,[$(n.$slots,"footer")])):S("",!0)],16),[[h,m.value]])])),_:3})],4)],512),[[h,c.value]])]))}}),J={class:"ui-modal-pop-wrap ui-modal-wrap"},K={class:"ui-modal-content",style:{"margin-top":"10px",padding:"0"}},Q={key:1},q={class:"ui-modal-footer",style:{padding:"10px 16px","border-top":"none","margin-bottom":"4px"}},H=u({__name:"Pop",props:{title:null,content:null,icon:null,cancelText:null,okText:null,type:null,unMount:null,ok:{type:Boolean},cancel:{type:Boolean},width:{default:300},top:{default:100},maskClosable:{type:Boolean,default:!1}},emits:["ok","cancel"],setup(e,{emit:n}){const t=e,{unMount:o,width:s,top:a,maskClosable:l,ok:m,cancel:u}=d(t),M=r(!1),$=()=>{m.value&&n("ok"),M.value=!1;const e=setTimeout((()=>{o.value(),window.clearTimeout(e)}),400)},O=()=>{u.value&&n("cancel"),M.value=!1;const e=setTimeout((()=>{o.value(),window.clearTimeout(e)}),400)},A=()=>{if(l.value){M.value=!1;const e=setTimeout((()=>{o.value(),window.clearTimeout(e)}),400)}},L=r(!1),N=r(!1),X=r(0),Y=p({x:0,y:0}),P=e=>{s.value+32>X.value?(Y.x=e.clientX-document.body.clientWidth/2+(X.value-32)/2,Y.y=e.clientY-a.value):(Y.x=e.clientX-document.body.clientWidth/2+s.value/2,Y.y=e.clientY-a.value),N.value=!0,document.body.removeEventListener("click",P)};v((()=>{g(M,(()=>{if(M.value)V(M.value),L.value=!0,X.value=document.body.clientWidth,document.body.addEventListener("click",P);else{const e=setTimeout((()=>{V(M.value),L.value=!1,window.clearTimeout(e)}),300);N.value=!1}})),M.value=!0}));const U=f((()=>s.value+32>X.value?X.value-32+"px":`${s.value}px`)),z=f((()=>`${Y.x}px ${Y.y}px`));return(n,t)=>(y(),I("div",J,[w(C,{name:"modal-mask"},{default:x((()=>[k(b("div",{class:"ui-modal-mask",onClick:A},null,512),[[h,N.value]])])),_:1}),b("div",{class:"ui-modal-body-wrap",style:T({top:`${B(a)}px`})},[w(C,{name:"modal"},{default:x((()=>[k(b("div",{class:"ui-modal-body",style:T({width:B(U),transformOrigin:B(z),gap:0})},[b("div",K,[w(i,{message:"string"==typeof e.title?e.title:"",type:e.type,showIcon:"",banner:"",style:{backgroundColor:"#fff",marginBottom:0}},E({description:x((()=>["string"!=typeof e.content?(y(),_(W(e.content),{key:0})):(y(),I("div",Q,D(e.content),1))])),_:2},["string"!=typeof e.title?{name:"title",fn:x((()=>[(y(),_(W(e.title)))])),key:"0"}:void 0,e.icon?{name:"icon",fn:x((()=>[(y(),_(W(e.icon)))])),key:"1"}:void 0]),1032,["message","type"])]),b("div",q,[w(c,{type:"default",onClick:O},{default:x((()=>[j(D(e.cancelText?e.cancelText:"取消"),1)])),_:1}),B(m)?(y(),_(c,{key:0,type:"primary",onClick:$},{default:x((()=>[j(D(e.okText?e.okText:"确定"),1)])),_:1})):S("",!0)])],4),[[h,N.value]])])),_:1})],4)]))}}),R=()=>{let e=document.getElementById("ui-modal-pop");e||(e=document.createElement("div"),e.setAttribute("id","ui-modal-pop"),document.body.appendChild(e));const n=document.createElement("div");return e.appendChild(n),n},Z=(e,n,t)=>L(H,{...e,ok:!!e.onOk,cancel:!!e.onCancel,type:n,unMount:()=>{t.remove()}}),ee=e=>{const n=R();A(Z(e,"info",n)).mount(n)},ne=e=>{const n=R();A(Z(e,"success",n)).mount(n)},te=e=>{const n=R();A(Z(e,"error",n)).mount(n)},oe=e=>{const n=R();A(Z(e,"warning",n)).mount(n)},se=e=>{const n=R();A(Z(e,"success",n)).mount(n)},ae=b("p",null,"模态对话框。",-1),le=b("ul",null,[b("li",null,"Modal"),b("li",null,"modal")],-1),ie=b("ul",null,[b("li",null," 需要用户处理事务，又不希望跳转页面以致打断工作流程时，可以使用 Modal 在当前页面正中打开一个浮层，承载相应的操作。 "),b("li",null," 另外当需要一个简洁的确认框询问用户时，可以使用 Modal.confirm() 等语法糖方法。 ")],-1),ce=u({__name:"Intro",setup:o=>(o,s)=>(y(),_(B(t),null,{default:x((()=>[w(B(e),{level:4},{default:x((()=>[j("简介")])),_:1}),w(B(n),null,{default:x((()=>[ae])),_:1}),w(B(e),{level:4},{default:x((()=>[j("组件概述")])),_:1}),w(B(n),null,{default:x((()=>[le])),_:1}),w(B(e),{level:4},{default:x((()=>[j("使用场景")])),_:1}),w(B(n),null,{default:x((()=>[ie])),_:1})])),_:1}))}),me=u({__name:"Api",setup(e){const n=[{rowIndex:1,"事件名称":"change","说明":"弹窗关闭后的回调","回调参数":"(visible:boolean) => void"}],t=[{componentName:"Model",attrContent:[{rowIndex:1,"属性":"visible(v-model)","说明":"对话框是否可见","类型":"boolean","默认值":"false"},{rowIndex:2,"属性":"classname","说明":"自定义类名","类型":"string","默认值":"ui-custom"},{rowIndex:3,"属性":"maskClosable","说明":"点击蒙层是否允许关闭","类型":"boolean","默认值":"true"},{rowIndex:4,"属性":"width","说明":"弹出框宽度","类型":"number","默认值":"300"},{rowIndex:5,"属性":"top","说明":"弹出框距离顶部的距离","类型":"number","默认值":"100"}]},{componentName:"model",attrContent:[{rowIndex:1,"属性":"type","说明":"提示类型","类型":"'info'|'success'|'error'|'warning'|'custom'","默认值":""},{rowIndex:2,"属性":"option","说明":"modal配置","类型":"{\n  title: VNode | string,\n  content: VNode | string,\n  icon?: VNode,\n  onOk?: () => void,\n  onCancel?: () => void,\n  cancelText?: string,\n  okText?: string,\n  width?: number,\n  top?: number,\n  maskClosable?: boolean\n}","默认值":""}]}];return(e,o)=>(y(),_(Y,{"attr-content-arr":t,"event-content":n}))}});var ue=e=>{e.__sourceCode='<template>\n  <Button type="primary" @click="showModal">Open Modal</Button>\n  <Modal v-model:visible="visible" :width="520" :top="100" :mask-closable="false">\n    <template #title>\n      <span>Basic Modal</span>\n    </template>\n    <template #content>\n      <p>Some contents...</p>\n      <p>Some contents...</p>\n      <p>Some contents...</p>\n    </template>\n    <template #footer>\n      <Button type="default" @click="handleCancel">取消</Button>\n      <Button type="primary" @click="handleOk">确认</Button>\n    </template>\n  </Modal>\n</template>\n\n<script setup lang="ts">\nimport { ref } from \'vue\'\nimport { Modal, Button } from \'@/lib\'\n\nconst visible = ref<boolean>(false)\n\nconst showModal = () => {\n  visible.value = true\n}\nconst handleOk = () => {\n  visible.value = false\n}\nconst handleCancel = () => {\n  visible.value = false\n}\n<\/script>',e.__sourceTitle="基本用法"};const de=b("span",null,"Basic Modal",-1),re=b("p",null,"Some contents...",-1),pe=b("p",null,"Some contents...",-1),ve=b("p",null,"Some contents...",-1),ge=u({__name:"DemoOne",setup(e){const n=r(!1),t=()=>{n.value=!0},o=()=>{n.value=!1},s=()=>{n.value=!1};return(e,a)=>(y(),I(N,null,[w(B(c),{type:"primary",onClick:t},{default:x((()=>[j("Open Modal")])),_:1}),w(B(G),{visible:n.value,"onUpdate:visible":a[0]||(a[0]=e=>n.value=e),width:520,top:100,"mask-closable":!1},{title:x((()=>[de])),content:x((()=>[re,pe,ve])),footer:x((()=>[w(B(c),{type:"default",onClick:s},{default:x((()=>[j("取消")])),_:1}),w(B(c),{type:"primary",onClick:o},{default:x((()=>[j("确认")])),_:1})])),_:1},8,["visible"])],64))}});ue(ge);var fe=e=>{e.__sourceCode="<template>\n  <div class=\"actions\">\n    <Button @click=\"info\">Info</Button>\n    <Button @click=\"success\">Success</Button>\n    <Button @click=\"error\">Error</Button>\n    <Button @click=\"warning\">Warning</Button>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { h } from 'vue'\nimport { Button, modal } from 'ant'\n\nconst info = () => {\n  modal.info({\n    title: 'This is a notification message',\n    content: h('div', {}, [\n      h('p', 'some messages...some messages...'),\n      h('p', 'some messages...some messages...')\n    ]),\n    onOk: () => {\n      console.log('ok')\n    },\n    okText: 'confirm',\n    onCancel: () => {\n      console.log('cancel')\n    },\n    cancelText: 'cancel',\n    width: 400,\n    top: 200,\n    maskClosable: true\n  })\n}\nconst success = () => {\n  modal.success({\n    title: 'This is a success message',\n    width: 400,\n    content: h('div', {}, [\n      h('p', 'some messages...some messages...'),\n      h('p', 'some messages...some messages...')\n    ])\n  })\n}\n\nconst error = () => {\n  modal.error({\n    title: 'This is an error message',\n    width: 400,\n    content: 'some messages...some messages...'\n  })\n}\n\nconst warning = () => {\n  modal.warning({\n    title: 'This is a warning message',\n    width: 400,\n    content: 'some messages...some messages...'\n  })\n}\n<\/script>\n\n<style lang=\"scss\" scoped>\n.actions {\n  display: flex;\n  gap: 20px;\n}\n</style>",e.__sourceTitle=" 信息提示 "};const ye={class:"actions"},_e=u({__name:"DemoTwo",setup(e){const n=()=>{ee({title:"This is a notification message",content:L("div",{},[L("p","some messages...some messages..."),L("p","some messages...some messages...")]),onOk:()=>{console.log("ok")},okText:"confirm",onCancel:()=>{console.log("cancel")},cancelText:"cancel",width:400,top:200,maskClosable:!0})},t=()=>{ne({title:"This is a success message",width:400,content:L("div",{},[L("p","some messages...some messages..."),L("p","some messages...some messages...")])})},o=()=>{te({title:"This is an error message",width:400,content:"some messages...some messages..."})},s=()=>{oe({title:"This is a warning message",width:400,content:"some messages...some messages..."})};return(e,a)=>(y(),I("div",ye,[w(B(c),{onClick:n},{default:x((()=>[j("Info")])),_:1}),w(B(c),{onClick:t},{default:x((()=>[j("Success")])),_:1}),w(B(c),{onClick:o},{default:x((()=>[j("Error")])),_:1}),w(B(c),{onClick:s},{default:x((()=>[j("Warning")])),_:1})]))}});fe(_e);var ke=X(_e,[["__scopeId","data-v-76258e77"]]),he=e=>{e.__sourceCode="<template>\n  <Button @click=\"custom\">Custom</Button>\n</template>\n\n<script setup lang=\"ts\">\nimport { h } from 'vue'\nimport { Button, modal } from 'ant'\nimport SvgIcon from '@/lib/common/SvgIcon.vue'\n\nconst custom = () => {\n  modal.custom({\n    width: 400,\n    title: h('p', { style: { color: 'red' } }, 'This is a Custom message '),\n    content: 'some messages...some messages...',\n    icon: h(SvgIcon, { name: 'weixin', width: '1em', height: '1em' }),\n    okText: 'custom'\n  })\n}\n<\/script>",e.__sourceTitle=" 自定义提示内容 "};const be=u({__name:"DemoThree",setup(e){const n=()=>{se({width:400,title:L("p",{style:{color:"red"}},"This is a Custom message "),content:"some messages...some messages...",icon:L(m,{name:"weixin",width:"1em",height:"1em"}),okText:"custom"})};return(e,t)=>(y(),_(B(c),{onClick:n},{default:x((()=>[j("Custom")])),_:1}))}});he(be);const we=u({__name:"Demo",setup(e){const n=f((()=>[ge,ke,be].map(((e,n)=>o(e,"modal",n)))));return(e,t)=>(y(),_(s,{"demo-arr":B(n)},null,8,["demo-arr"]))}}),xe=u({__name:"Index",setup(e){r(null);const n=["基本用法","信息提示","自定义提示内容"],t=f((()=>l("modal",n)));return(e,n)=>(y(),_(a,{"nav-arr":B(t),title:"Modal 对话框","component-name":"modal"},{intro:x((()=>[w(ce)])),demo:x((()=>[w(we)])),api:x((()=>[w(me)])),_:1},8,["nav-arr"]))}});export{xe as default};
