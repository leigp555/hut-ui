import{D as e,C as n}from"./DemoDisplay-d6102924.js";import{n as t,a as o,_ as s}from"./Upload.vue_vue_type_style_index_0_lang-dcc18adf.js";import{_ as a,P as l,T as i}from"./Footer-492e9d3a.js";import{d as c,v as m,r as u,a as d,o as r,w as p,x as v,c as f,i as g,A as y,B as k,l as h,f as _,g as b,T as w,L as x,m as T,H as C,e as B,z as I,y as M,N as $,R as O,E as S,t as E,j,J as W,K as D,F as A,_ as N}from"./index-4bdb761c.js";import{_ as L}from"./ApiIntro-e7a82855.js";import{g as X,a as Y}from"./helper-f72534c2.js";import{b as V}from"./bodyAddClass-5e3cef3b.js";const F={class:"ui-modal-wrap"},P={key:0,class:"ui-modal-title"},U={key:1,class:"ui-modal-content"},z={key:2,class:"ui-modal-footer"},H=c({inheritAttrs:!1,__name:"Modal",props:{visible:{type:Boolean,default:!1},classname:{default:"ui-custom"},maskClosable:{type:Boolean,default:!0},width:{default:300},top:{default:100}},emits:["update:visible","change"],setup(e,{emit:n}){const t=e,{visible:o,maskClosable:s,width:a,top:l}=m(t),i=()=>{s.value&&(n("update:visible",!1),n("change",!1))},c=u(!1),O=u(!1),S=u(0),E=d({x:0,y:0}),j=e=>{a.value+32>S.value?(E.x=e.clientX-document.body.clientWidth/2+(S.value-32)/2,E.y=e.clientY-l.value):(E.x=e.clientX-document.body.clientWidth/2+a.value/2,E.y=e.clientY-l.value),O.value=!0,document.body.removeEventListener("click",j)};r((()=>{p(o,(()=>{if(o.value)V(o.value),c.value=!0,S.value=document.body.clientWidth,document.body.addEventListener("click",j);else{const e=setTimeout((()=>{V(o.value),c.value=!1,window.clearTimeout(e)}),400);O.value=!1}}))}));const W=v((()=>a.value+32>S.value?S.value-32+"px":`${a.value}px`)),D=v((()=>`${E.x}px ${E.y}px`));return(n,t)=>(f(),g($,{to:"body"},[y(h("div",F,[_(w,{name:"modal-mask"},{default:b((()=>[y(h("div",{class:"ui-modal-mask",onClick:i},null,512),[[k,O.value]])])),_:1}),h("div",{class:"ui-modal-body-wrap",style:x({top:`${T(l)}px`})},[_(w,{name:"modal"},{default:b((()=>[y(h("div",C({class:"ui-modal-body"},n.$attrs,{class:{[e.classname]:!0},style:{width:T(W),transformOrigin:T(D)}}),[n.$slots.title?(f(),B("div",P,[I(n.$slots,"title")])):M("",!0),n.$slots.content?(f(),B("div",U,[I(n.$slots,"content")])):M("",!0),n.$slots.footer?(f(),B("div",z,[I(n.$slots,"footer")])):M("",!0)],16),[[k,O.value]])])),_:3})],4)],512),[[k,c.value]])]))}}),J={class:"ui-modal-pop-wrap ui-modal-wrap"},K={class:"ui-modal-content",style:{"margin-top":"10px",padding:"0"}},R={key:1},q={class:"ui-modal-footer",style:{padding:"10px 16px","border-top":"none","margin-bottom":"4px"}},G=c({__name:"Pop",props:{title:null,content:null,icon:null,cancelText:null,okText:null,type:null,unMount:null,ok:{type:Boolean},cancel:{type:Boolean},width:{default:300},top:{default:100},maskClosable:{type:Boolean,default:!1}},emits:["ok","cancel"],setup(e,{emit:n}){const s=e,{unMount:a,width:l,top:i,maskClosable:c,ok:C,cancel:I}=m(s),$=u(!1),W=()=>{C.value&&n("ok"),$.value=!1;const e=setTimeout((()=>{a.value(),window.clearTimeout(e)}),400)},D=()=>{I.value&&n("cancel"),$.value=!1;const e=setTimeout((()=>{a.value(),window.clearTimeout(e)}),400)},A=()=>{if(c.value){$.value=!1;const e=setTimeout((()=>{a.value(),window.clearTimeout(e)}),400)}},N=u(!1),L=u(!1),X=u(0),Y=d({x:0,y:0}),F=e=>{l.value+32>X.value?(Y.x=e.clientX-document.body.clientWidth/2+(X.value-32)/2,Y.y=e.clientY-i.value):(Y.x=e.clientX-document.body.clientWidth/2+l.value/2,Y.y=e.clientY-i.value),L.value=!0,document.body.removeEventListener("click",F)};r((()=>{p($,(()=>{if($.value)V($.value),N.value=!0,X.value=document.body.clientWidth,document.body.addEventListener("click",F);else{const e=setTimeout((()=>{V($.value),N.value=!1,window.clearTimeout(e)}),300);L.value=!1}})),$.value=!0}));const P=v((()=>l.value+32>X.value?X.value-32+"px":`${l.value}px`)),U=v((()=>`${Y.x}px ${Y.y}px`));return(n,s)=>(f(),B("div",J,[_(w,{name:"modal-mask"},{default:b((()=>[y(h("div",{class:"ui-modal-mask",onClick:A},null,512),[[k,L.value]])])),_:1}),h("div",{class:"ui-modal-body-wrap",style:x({top:`${T(i)}px`})},[_(w,{name:"modal"},{default:b((()=>[y(h("div",{class:"ui-modal-body",style:x({width:T(P),transformOrigin:T(U),gap:0})},[h("div",K,[_(t,{message:"string"==typeof e.title?e.title:"",type:e.type,showIcon:"",banner:"",style:{backgroundColor:"#fff",marginBottom:0}},O({description:b((()=>["string"!=typeof e.content?(f(),g(S(e.content),{key:0})):(f(),B("div",R,E(e.content),1))])),_:2},["string"!=typeof e.title?{name:"title",fn:b((()=>[(f(),g(S(e.title)))])),key:"0"}:void 0,e.icon?{name:"icon",fn:b((()=>[(f(),g(S(e.icon)))])),key:"1"}:void 0]),1032,["message","type"])]),h("div",q,[_(o,{type:"default",onClick:D},{default:b((()=>[j(E(e.cancelText?e.cancelText:"取消"),1)])),_:1}),T(C)?(f(),g(o,{key:0,type:"primary",onClick:W},{default:b((()=>[j(E(e.okText?e.okText:"确定"),1)])),_:1})):M("",!0)])],4),[[k,L.value]])])),_:1})],4)]))}}),Q=()=>{let e=document.getElementById("ui-modal-pop");e||(e=document.createElement("div"),e.setAttribute("id","ui-modal-pop"),document.body.appendChild(e));const n=document.createElement("div");return e.appendChild(n),n},Z=(e,n,t)=>D(G,{...e,ok:!!e.onOk,cancel:!!e.onCancel,type:n,unMount:()=>{t.remove()}}),ee=e=>{const n=Q();W(Z(e,"info",n)).mount(n)},ne=e=>{const n=Q();W(Z(e,"success",n)).mount(n)},te=e=>{const n=Q();W(Z(e,"error",n)).mount(n)},oe=e=>{const n=Q();W(Z(e,"warning",n)).mount(n)},se=e=>{const n=Q();W(Z(e,"success",n)).mount(n)},ae=h("p",null,"模态对话框。",-1),le=h("ul",null,[h("li",null,"Modal"),h("li",null,"modal")],-1),ie=h("ul",null,[h("li",null," 需要用户处理事务，又不希望跳转页面以致打断工作流程时，可以使用 Modal 在当前页面正中打开一个浮层，承载相应的操作。 "),h("li",null," 另外当需要一个简洁的确认框询问用户时，可以使用 Modal.confirm() 等语法糖方法。 ")],-1),ce=c({__name:"Intro",setup:e=>(e,n)=>(f(),g(T(i),null,{default:b((()=>[_(T(a),{level:4},{default:b((()=>[j("简介")])),_:1}),_(T(l),null,{default:b((()=>[ae])),_:1}),_(T(a),{level:4},{default:b((()=>[j("组件概述")])),_:1}),_(T(l),null,{default:b((()=>[le])),_:1}),_(T(a),{level:4},{default:b((()=>[j("使用场景")])),_:1}),_(T(l),null,{default:b((()=>[ie])),_:1})])),_:1}))}),me=c({__name:"Api",setup(e){const n=[{rowIndex:1,"事件名称":"change","说明":"弹窗关闭后的回调","回调参数":"(visible:boolean) => void"}],t=[{componentName:"Model",attrContent:[{rowIndex:1,"属性":"visible(v-model)","说明":"对话框是否可见","类型":"boolean","默认值":"false"},{rowIndex:2,"属性":"classname","说明":"自定义类名","类型":"string","默认值":"ui-custom"},{rowIndex:3,"属性":"maskClosable","说明":"点击蒙层是否允许关闭","类型":"boolean","默认值":"true"},{rowIndex:4,"属性":"width","说明":"弹出框宽度","类型":"number","默认值":"300"},{rowIndex:5,"属性":"top","说明":"弹出框距离顶部的距离","类型":"number","默认值":"100"}]},{componentName:"model",attrContent:[{rowIndex:1,"属性":"type","说明":"提示类型","类型":"'info'|'success'|'error'|'warning'|'custom'","默认值":""},{rowIndex:2,"属性":"option","说明":"modal配置","类型":"{\n  title: VNode | string,\n  content: VNode | string,\n  icon?: VNode,\n  onOk?: () => void,\n  onCancel?: () => void,\n  cancelText?: string,\n  okText?: string,\n  width?: number,\n  top?: number,\n  maskClosable?: boolean\n}","默认值":""}]}];return(e,o)=>(f(),g(L,{"attr-content-arr":t,"event-content":n}))}});var ue=e=>{e.__sourceCode='<template>\n  <Button type="primary" @click="showModal">Open Modal</Button>\n  <Modal v-model:visible="visible" :width="520" :top="100" :mask-closable="false">\n    <template #title>\n      <span>Basic Modal</span>\n    </template>\n    <template #content>\n      <p>Some contents...</p>\n      <p>Some contents...</p>\n      <p>Some contents...</p>\n    </template>\n    <template #footer>\n      <Button type="default" @click="handleCancel">取消</Button>\n      <Button type="primary" @click="handleOk">确认</Button>\n    </template>\n  </Modal>\n</template>\n\n<script setup lang="ts">\nimport { ref } from \'vue\'\nimport { Modal, Button } from \'@/lib\'\n\nconst visible = ref<boolean>(false)\n\nconst showModal = () => {\n  visible.value = true\n}\nconst handleOk = () => {\n  visible.value = false\n}\nconst handleCancel = () => {\n  visible.value = false\n}\n<\/script>',e.__sourceTitle="基本用法"};const de=h("span",null,"Basic Modal",-1),re=h("p",null,"Some contents...",-1),pe=h("p",null,"Some contents...",-1),ve=h("p",null,"Some contents...",-1),fe=c({__name:"DemoOne",setup(e){const n=u(!1),t=()=>{n.value=!0},s=()=>{n.value=!1},a=()=>{n.value=!1};return(e,l)=>(f(),B(A,null,[_(T(o),{type:"primary",onClick:t},{default:b((()=>[j("Open Modal")])),_:1}),_(T(H),{visible:n.value,"onUpdate:visible":l[0]||(l[0]=e=>n.value=e),width:520,top:100,"mask-closable":!1},{title:b((()=>[de])),content:b((()=>[re,pe,ve])),footer:b((()=>[_(T(o),{type:"default",onClick:a},{default:b((()=>[j("取消")])),_:1}),_(T(o),{type:"primary",onClick:s},{default:b((()=>[j("确认")])),_:1})])),_:1},8,["visible"])],64))}});ue(fe);var ge=e=>{e.__sourceCode="<template>\n  <div class=\"actions\">\n    <Button @click=\"info\">Info</Button>\n    <Button @click=\"success\">Success</Button>\n    <Button @click=\"error\">Error</Button>\n    <Button @click=\"warning\">Warning</Button>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { h } from 'vue'\nimport { Button, modal } from 'ant'\n\nconst info = () => {\n  modal.info({\n    title: 'This is a notification message',\n    content: h('div', {}, [\n      h('p', 'some messages...some messages...'),\n      h('p', 'some messages...some messages...')\n    ]),\n    onOk: () => {\n      console.log('ok')\n    },\n    okText: 'confirm',\n    onCancel: () => {\n      console.log('cancel')\n    },\n    cancelText: 'cancel',\n    width: 400,\n    top: 200,\n    maskClosable: true\n  })\n}\nconst success = () => {\n  modal.success({\n    title: 'This is a success message',\n    width: 400,\n    content: h('div', {}, [\n      h('p', 'some messages...some messages...'),\n      h('p', 'some messages...some messages...')\n    ])\n  })\n}\n\nconst error = () => {\n  modal.error({\n    title: 'This is an error message',\n    width: 400,\n    content: 'some messages...some messages...'\n  })\n}\n\nconst warning = () => {\n  modal.warning({\n    title: 'This is a warning message',\n    width: 400,\n    content: 'some messages...some messages...'\n  })\n}\n<\/script>\n\n<style lang=\"scss\" scoped>\n.actions {\n  display: flex;\n  gap: 20px;\n}\n</style>",e.__sourceTitle=" 信息提示 "};const ye={class:"actions"},ke=c({__name:"DemoTwo",setup(e){const n=()=>{ee({title:"This is a notification message",content:D("div",{},[D("p","some messages...some messages..."),D("p","some messages...some messages...")]),onOk:()=>{console.log("ok")},okText:"confirm",onCancel:()=>{console.log("cancel")},cancelText:"cancel",width:400,top:200,maskClosable:!0})},t=()=>{ne({title:"This is a success message",width:400,content:D("div",{},[D("p","some messages...some messages..."),D("p","some messages...some messages...")])})},s=()=>{te({title:"This is an error message",width:400,content:"some messages...some messages..."})},a=()=>{oe({title:"This is a warning message",width:400,content:"some messages...some messages..."})};return(e,l)=>(f(),B("div",ye,[_(T(o),{onClick:n},{default:b((()=>[j("Info")])),_:1}),_(T(o),{onClick:t},{default:b((()=>[j("Success")])),_:1}),_(T(o),{onClick:s},{default:b((()=>[j("Error")])),_:1}),_(T(o),{onClick:a},{default:b((()=>[j("Warning")])),_:1})]))}});ge(ke);var he=N(ke,[["__scopeId","data-v-76258e77"]]),_e=e=>{e.__sourceCode="<template>\n  <Button @click=\"custom\">Custom</Button>\n</template>\n\n<script setup lang=\"ts\">\nimport { h } from 'vue'\nimport { Button, modal } from 'ant'\nimport SvgIcon from '@/lib/common/SvgIcon.vue'\n\nconst custom = () => {\n  modal.custom({\n    width: 400,\n    title: h('p', { style: { color: 'red' } }, 'This is a Custom message '),\n    content: 'some messages...some messages...',\n    icon: h(SvgIcon, { name: 'weixin', width: '1em', height: '1em' }),\n    okText: 'custom'\n  })\n}\n<\/script>",e.__sourceTitle=" 自定义提示内容 "};const be=c({__name:"DemoThree",setup(e){const n=()=>{se({width:400,title:D("p",{style:{color:"red"}},"This is a Custom message "),content:"some messages...some messages...",icon:D(s,{name:"weixin",width:"1em",height:"1em"}),okText:"custom"})};return(e,t)=>(f(),g(T(o),{onClick:n},{default:b((()=>[j("Custom")])),_:1}))}});_e(be);const we=c({__name:"Demo",setup(n){const t=v((()=>[fe,he,be].map(((e,n)=>X(e,"modal",n)))));return(n,o)=>(f(),g(e,{"demo-arr":T(t)},null,8,["demo-arr"]))}}),xe=c({__name:"Index",setup(e){u(null);const t=["基本用法","信息提示","自定义提示内容"],o=v((()=>Y("modal",t)));return(e,t)=>(f(),g(n,{"nav-arr":T(o),title:"Modal 对话框","component-name":"modal"},{intro:b((()=>[_(ce)])),demo:b((()=>[_(we)])),api:b((()=>[_(me)])),_:1},8,["nav-arr"]))}});export{xe as default};
