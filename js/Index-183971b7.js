import{_ as e,P as n,T as t,g as l,D as a,C as s,a as o}from"./DemoDisplay-bf35ee91.js";import"./Upload.vue_vue_type_style_index_0_lang-01c7e68e.js";import"./SubMenu.vue_vue_type_style_index_0_lang-8e3a5464.js";import{d as i,k as u,r,L as c,o as p,c as m,b as v,l as d,e as _,w as f,A as g,F as b,f as x,t as y,B as M,T as h,y as w,g as S,h as T,z as k}from"./index-c9229fcd.js";import{_ as I}from"./ApiIntro-a10e99d0.js";const C={class:"ui-mentions-wrap"},O=["value"],j={class:"ui-mentions-pop"},z=["title"],D=i({__name:"Mentions",props:{value:{default:""},options:{default:()=>[]}},emits:["select","update:value"],setup(e,{emit:n}){const t=e,{value:l,options:a}=u(t),s=r(null),o=r(null),i=r(0),S=r(!1),T=document.createElement("span");T.classList.add("mentions-pop-left");const k=e=>{const t=e.target;if(n("update:value",t.value),t&&"@"===t.value.substring(t.selectionStart-1,t.selectionStart)){T.innerText=t.value.substring(0,t.selectionStart);let e=T.getBoundingClientRect().width;for(;e+7.1>t.clientWidth-19;)e=e-t.clientWidth+28;i.value=e+11,S.value=!0}else S.value=!1};c((()=>{var e;null==(e=o.value)||e.appendChild(T)}));const I=e=>{const t=e.target,a=t.getAttribute("data-value");if("p"===t.tagName.toLowerCase()&&"list"===a){const e=s.value;let a=0;e&&(a=e.selectionStart);const o=l.value.substring(0,a)+t.innerText+l.value.substring(a);n("update:value",o),n("select",t.innerText),S.value=!1,setTimeout((()=>{e.focus(),e.setSelectionRange(a+t.innerText.length,a+t.innerText.length)}))}},D=()=>{S.value=!1};return(e,n)=>(p(),m("div",C,[v("textarea",{ref_key:"inputRef",ref:s,class:"ui-mentions-input ui-scroll-container",value:d(l),onInput:k,onBlur:D},null,40,O),v("div",{class:"ui-mentions-getWidth",ref_key:"getWidthRef",ref:o},null,512),v("div",{class:"ui-mentions-pop-wrap",onMousedown:I,style:w({left:`${i.value}px`})},[_(h,{name:"mentions"},{default:f((()=>[g(v("div",j,[(p(!0),m(b,null,x(d(a),(e=>(p(),m("p",{key:e,class:"mentions-list-item","data-value":"list",title:e.value},y(e.label),9,z)))),128))],512),[[M,S.value]])])),_:1})],36)]))}}),A=v("p",null,"提及组件。",-1),J=v("ul",null,[v("li",null,"Mentions")],-1),R=v("p",null,"用于在输入中提及某人或某事，常用于发布、聊天或评论功能。",-1),W=i({__name:"Intro",setup:l=>(l,a)=>(p(),S(d(t),null,{default:f((()=>[_(d(e),{level:4},{default:f((()=>[T("简介")])),_:1}),_(d(n),null,{default:f((()=>[A])),_:1}),_(d(e),{level:4},{default:f((()=>[T("组件概述")])),_:1}),_(d(n),null,{default:f((()=>[J])),_:1}),_(d(e),{level:4},{default:f((()=>[T("使用场景")])),_:1}),_(d(n),null,{default:f((()=>[R])),_:1})])),_:1}))}),B=i({__name:"Api",setup(e){const n=[{rowIndex:1,"事件名称":"select","说明":"选择选项时触发","回调参数":"(selectOption:string) => void"}],t=[{componentName:"Mentions",attrContent:[{rowIndex:1,"属性":"value","说明":"value(v-model)","类型":"string","默认值":""},{rowIndex:2,"属性":"options","说明":"提示信息","类型":" MentionsOptions[]","默认值":"[]"}]}];return(e,l)=>(p(),S(I,{"attr-content-arr":t,"event-content":n}))}});var L=e=>{e.__sourceCode="<template>\n  <Mentions v-model:value=\"value\" :options=\"options\" @select=\"onSelect\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { Mentions, MentionsOptions } from '@/lib'\n\nconst value = ref<string>('')\nconst options: MentionsOptions[] = [\n  {\n    label: 'afc163',\n    value: 'afc163'\n  },\n  {\n    label: 'zombieJ',\n    value: 'zombieJ'\n  },\n  {\n    label: 'yesmeck',\n    value: 'yesmeck'\n  }\n]\n\nconst onSelect = (option: MentionsOptions) => {\n  console.log('select', option)\n}\n<\/script>",e.__sourceTitle="基本用法"};const N=i({__name:"DemoOne",setup(e){const n=r(""),t=[{label:"afc163",value:"afc163"},{label:"zombieJ",value:"zombieJ"},{label:"yesmeck",value:"yesmeck"}],l=e=>{console.log("select",e)};return(e,a)=>(p(),S(d(D),{value:n.value,"onUpdate:value":a[0]||(a[0]=e=>n.value=e),options:t,onSelect:l},null,8,["value"]))}});L(N);const U=i({__name:"Demo",setup(e){const n=k((()=>[N].map(((e,n)=>l(e,"mentions",n)))));return(e,t)=>(p(),S(a,{"demo-arr":d(n)},null,8,["demo-arr"]))}}),E=i({__name:"Index",setup(e){r(null);const n=["基本用法"],t=k((()=>o("mentions",n)));return(e,n)=>(p(),S(s,{"nav-arr":d(t),title:"Mentions 提及","component-name":"mentions"},{intro:f((()=>[_(W)])),demo:f((()=>[_(U)])),api:f((()=>[_(B)])),_:1},8,["nav-arr"]))}});export{E as default};
